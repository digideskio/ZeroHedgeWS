(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt;$.Define($$,{WebSharper:{UI:{Next:{Abbrev:{Async:{Schedule:function(bu){var bv;bv=a.Delay(function(){return a.Return(bu(null));});return a.Start(bv,{$:0});},StartTo:function(bw,bx){return a.StartWithContinuations(bw,bx,function(){},function(){},{$:0});}},Dict:{ToKeyArray:function(bA){var bB,bC;bB=b(bA.count);bC=function(bD){return function(bE){return c.set(bB,bD,bE.K);};};d.iteri(bC,bA);return bB;},ToValueArray:function(bF){var bG,bH;bG=b(bF.count);bH=function(bI){return function(bJ){return c.set(bG,bI,bJ.V);};};d.iteri(bH,bF);return bG;}},Fresh:{Id:function(){var bK;bK=h.counter()+1;h.counter=function(){return bK;};return"uid"+$$.String(h.counter());},Int:function(){var bL;bL=h.counter()+1;h.counter=function(){return bL;};return h.counter();},counter:$.Field(function(){return 0;})},HashSet:{Except:function(bM,bN){var bO;bO=j.New(k.ToArray(bN));bO.ExceptWith(k.ToArray(bM));return bO;},Filter:function(bP,bQ){var bR;bR=k.ToArray(bQ);return j.New(c.filter(bP,bR));},Intersect:function(bS,bT){var bU;bU=j.New(k.ToArray(bS));bU.IntersectWith(k.ToArray(bT));return bU;},ToArray:function(bV){var bW;bW=b(bV.get_Count());bV.CopyTo(bW);return bW;}},Mailbox:{StartProcessor:function(bX){var bY,bZ,b0,b7,b_;bY=[];bZ=[false];b0=a.Delay(function(){return a.Combine(a.While(function(){return bY.length>0;},a.Delay(function(){var b4;b4=bY.shift();return a.Bind(bX(b4),function(){return a.Return(null);});})),a.Delay(function(){return a.Return(void(bZ[0]=false));}));});b7=function(){var b9;if(!bZ[0]){bZ[0]=true;b9=a.Start(b0,{$:0});}else{b9=null;}return b9;};b_=function(b$){bY.push(b$);return b7(null);};return b_;}},Slot1:$.Class({Equals:function(ca){return l.Equals(this.key.call(null,this.value),this.key.call(null,ca.get_Value()));},GetHashCode:function(){return l.Hash(this.key.call(null,this.value));},get_Value:function(){return this.value;}},{Create:function(cb,cc){return m.New(cb,cc);},New:function(cd,ce){var cf;cf=$.New(this,{});cf.key=cd;cf.value=ce;return cf;}})},An:$.Class({},{Append:function(cg,ch){var ci,cj;ci=cg.$0;cj=ch.$0;return $.New(n,{$:0,$0:o.Append(ci,cj)});},Concat:function(ck){var cl,cn;cl=d.map(function(cm){return p.List(cm);},ck);cn=o.Concat(cl);return $.New(n,{$:0,$0:cn});},Const:function(co){return p.Const(co);},Delayed:function(cp,cq,cr,cs,ct,cu){var cv;cv=cr+cs;return{Compute:function(cw){var cx,cy;if(cw<=cs){cx=ct;}else{cy=cq.TransformTime.call(null,(cw-cs)/cr);cx=cp.Interpolate(cy,ct,cu);}return cx;},Duration:cv};},Map:function(cz,cA){var cB;cB=cA.Compute;return p.Def(cA.Duration,function(cC){return cz(cB(cC));});},Pack:function(cD){return $.New(n,{$:0,$0:o.Single({$:1,$0:cD})});},Play:function(cE){return a.Delay(function(){var cG,cI;cG=function(){};cI=p.Actions(cE);return a.Bind(n.Run(cG,cI),function(){return a.Return(p.Finalize(cE));});});},Run:function(cK,cL){var cM,cN;cM=cL.Duration;cN=function(cO){var cP,cQ,cR,cS,cZ;cP=cO[0];cQ=cO[1];cR=cO[2];cS=function(cT,cU){var cV,cW,cX;cV=cU-cT;cK(cL.Compute.call(null,cV));if(cV<=cM){cX=q(function(cY){return cS(cT,cY);});cW=void cX;}else{cW=cP(null);}return cW;};cZ=q(function(c0){return cS(c0,c0);});return;};return a.FromContinuations(cN);},Simple:function(c1,c2,c3,c4,c5){return{Compute:function(c6){var c7;c7=c2.TransformTime.call(null,c6/c3);return c1.Interpolate(c7,c4,c5);},Duration:c3};},WhenDone:function(c8,c9){var c_;c_=$.New(n,{$:0,$0:o.Single({$:0,$0:c8})});return n.Append(c_,c9);},get_Empty:function(){return $.New(n,{$:0,$0:o.Empty()});}}),AnimatedAttrNode:$.Class({GetChangeAnim:function(c$){var da,db,dd=this,de,df,dg,dh,di,dj,dk,dl,dn,_do;da=[this.visible,this.logical];db=function(){return dd.sync(c$);};if(da[0].$==1){if(da[1].$==1){da[0].$0;da[1].$0;if(dd.dirty){di=da[1].$0;dj=da[0].$0;dk=dd.tr;dl=function(dm){return dd.pushVisible(c$,dm);};dn=r.AnimateChange(dk,dj,di);_do=n.Map(dl,dn);dh=n.Pack(_do);}else{dh=n.get_Empty();}dg=dh;}else{dg=n.get_Empty();}df=dg;}else{df=n.get_Empty();}de=df;return n.WhenDone(db,de);},GetEnterAnim:function(dp){var dq,dr,dt=this,du,dv,dw,dx,dy,dz,dA,dB,dD,dE,dF,dG,dH,dI,dJ,dL,dM,dN,dO,dP,dQ,dR,dT,dU,dV,dW,dX,dY,dZ,d1,d2;dq=[this.visible,this.logical];dr=function(){return dt.sync(dp);};if(dq[0].$==1){if(dq[1].$==1){dq[0].$0;dq[1].$0;if(dt.dirty){dy=dq[1].$0;dz=dq[0].$0;dA=dt.tr;dB=function(dC){return dt.pushVisible(dp,dC);};dD=r.AnimateChange(dA,dz,dy);dE=n.Map(dB,dD);dx=n.Pack(dE);}else{if(dq[0].$==0){if(dq[1].$==1){dH=dq[1].$0;dI=dt.tr;dJ=function(dK){return dt.pushVisible(dp,dK);};dL=r.AnimateEnter(dI,dH);dM=n.Map(dJ,dL);dG=n.Pack(dM);}else{dG=n.get_Empty();}dF=dG;}else{dF=n.get_Empty();}dx=dF;}dw=dx;}else{if(dq[0].$==0){if(dq[1].$==1){dP=dq[1].$0;dQ=dt.tr;dR=function(dS){return dt.pushVisible(dp,dS);};dT=r.AnimateEnter(dQ,dP);dU=n.Map(dR,dT);dO=n.Pack(dU);}else{dO=n.get_Empty();}dN=dO;}else{dN=n.get_Empty();}dw=dN;}dv=dw;}else{if(dq[0].$==0){if(dq[1].$==1){dX=dq[1].$0;dY=dt.tr;dZ=function(d0){return dt.pushVisible(dp,d0);};d1=r.AnimateEnter(dY,dX);d2=n.Map(dZ,d1);dW=n.Pack(d2);}else{dW=n.get_Empty();}dV=dW;}else{dV=n.get_Empty();}dv=dV;}du=dv;return n.WhenDone(dr,du);},GetExitAnim:function(d3){var d4,d5,d7=this,d8,d9,d_,d$,ea,ec,ed;d4=this.visible;d5=function(){d7.dirty=true;d7.visible={$:0};return;};if(d4.$==1){d_=d4.$0;d$=d7.tr;ea=function(eb){return d7.pushVisible(d3,eb);};ec=r.AnimateExit(d$,d_);ed=n.Map(ea,ec);d9=n.Pack(ed);}else{d9=n.get_Empty();}d8=d9;return n.WhenDone(d5,d8);},Init:function(){return null;},Sync:function(){return null;},get_Changed:function(){return this.updates;},pushVisible:function(eg,eh){this.visible={$:1,$0:eh};this.dirty=true;return(this.push.call(null,eg))(eh);},sync:function(ei){var ej;if(this.dirty){s.iter(this.push.call(null,ei),this.logical);this.visible=this.logical;ej=void(this.dirty=false);}else{ej=null;}return ej;}},{New:function(ek,el,em){var en,eo;en=$.New(this,{});en.tr=ek;en.push=em;en.logical={$:0};en.visible={$:0};en.dirty=true;eo=function(ep){en.logical={$:1,$0:ep};en.dirty=true;return;};en.updates=t.Map(eo,el);return en;}}),Anims:{Actions:function(eq){var er,es,ew,ex;er=eq.$0;es=function(et){var eu,ev;if(et.$==1){ev=et.$0;eu={$:1,$0:ev};}else{eu={$:0};}return eu;};ew=o.ToArray(er);ex=c.choose(es,ew);return p.ConcatActions(ex);},ConcatActions:function(ey){var ez,eA,eB,eC,eE,eF,eG;ez=d.toArray(ey);eA=c.length(ez);if(eA===0){eB=p.Const(null);}else{if(eA===1){eB=c.get(ez,0);}else{eC=function(eD){return eD.Duration;};eE=d.map(eC,ez);eF=d.max(eE);eG=c.map(function(eH){return p.Prolong(eF,eH);},ez);eB=p.Def(eF,function(eI){return c.iter(function(eJ){return eJ.Compute.call(null,eI);},eG);});}}return eB;},Const:function(eK){return p.Def(0,function(){return eK;});},Def:function(eM,eN){return{Compute:eN,Duration:eM};},Finalize:function(eO){var eP,eQ,eU;eP=eO.$0;eQ=function(eR){var eS,eT;if(eR.$==0){eT=eR.$0;eS=eT(null);}else{eS=null;}return eS;};eU=o.ToArray(eP);return c.iter(eQ,eU);},List:function(eV){var eW;eW=eV.$0;return eW;},Prolong:function(eX,eY){var eZ,e0,e1,e3;eZ=eY.Compute;e0=eY.Duration;e1=u.Create(function(){return eY.Compute.call(null,eY.Duration);});e3=function(e4){return e4>=e0?e1.eval():eZ(e4);};return{Compute:e3,Duration:eX};}},AppendList1:{Append:function(e5,e6){var e7,e8,e9,e_,e$;e7=[e5,e6];if(e7[0].$==0){e9=e7[1];e8=e9;}else{if(e7[1].$==0){e$=e7[0];e_=e$;}else{e_={$:2,$0:e5,$1:e6};}e8=e_;}return e8;},Concat:function(fa){var fb,fc,fe,ff;fb=d.toArray(fa);fc=function(fd){return fd;};fe=o.Empty();ff=function(fg){return function(fh){return o.Append(fg,fh);};};return v.MapReduce(fc,fe,ff,fb);},Empty:function(){return{$:0};},FromArray:function(fi){var fj;fj=fi.length;return fj===0?{$:0}:fj===1?{$:1,$0:c.get(fi,0)}:{$:3,$0:fi.slice()};},Single:function(fk){return{$:1,$0:fk};},ToArray:function(fl){var fm,fn;fm=[];fn=function(fo){var fp,fq,fr,fs,ft;if(fo.$==1){fq=fo.$0;fp=fm.push(fq);}else{if(fo.$==2){fr=fo.$1;fs=fo.$0;fn(fs);fp=fn(fr);}else{if(fo.$==3){ft=fo.$0;fp=c.iter(function(fu){return fm.push(fu);},ft);}else{fp=null;}}}return fp;};fn(fl);return fm.slice(0);}},Array:{MapReduce:function(fv,fw,fx,fy){var fz;fz=function(fA,fB){var fC,fD,fE,fF,fG,fH,fI,fJ,fK;if(fB<=0){fC=fw;}else{if(fB===1){if(fA>=0?fA<c.length(fy):false){fE=fv(c.get(fy,fA));}else{fF=fB/2>>0;fG=fz(fA,fF);fH=fz(fA+fF,fB-fF);fE=(fx(fG))(fH);}fD=fE;}else{fI=fB/2>>0;fJ=fz(fA,fI);fK=fz(fA+fI,fB-fI);fD=(fx(fJ))(fK);}fC=fD;}return fC;};return fz(0,c.length(fy));}},AttrModule:{Animated:function(fL,fM,fN,fO){return w.Animated(fM,fN,function(fP){return function(fQ){return x.SetAttr(fP,fL,fO(fQ));};});},AnimatedStyle:function(fR,fS,fT,fU){return w.Animated(fS,fT,function(fV){return function(fW){return x.SetStyle(fV,fR,fU(fW));};});},Class:function(fX){return w.Static(function(fY){return x.AddClass(fY,fX);});},ContentEditableHtml:function(fZ){var f0,f4;f0=y.CustomVar(fZ,function(f1){return function(f2){f1.innerHTML=f2;};},function(f3){return{$:1,$0:f3.innerHTML};});f4=z.Create("contenteditable","true");return z.Append(f4,f0);},ContentEditableText:function(f5){var f6,f_;f6=y.CustomVar(f5,function(f7){return function(f8){f7.textContent=f8;};},function(f9){return{$:1,$0:f9.textContent};});f_=z.Create("contenteditable","true");return z.Append(f_,f6);},CustomValue:function(f$,ga,gb){return y.CustomVar(f$,function(gc){return function(gd){gc.value=ga(gd);};},function(ge){return gb(ge.value);});},CustomVar:function(gf,gg,gh){var gi,gq;gi=function(gj){return function(){return gf.UpdateMaybe(function(gl){var gm,gn,go,gp;gm=gh(gj);if(gm.$==1){go=gm.$0;if(!l.Equals(go,gl)){gm.$0;gp=gm;}else{gp={$:0};}gn=gp;}else{gn={$:0};}return gn;});};};gq=function(gr){return function(gs){var gt,gu,gv,gw;gt=gh(gr);if(gt.$==1){gv=gt.$0;if(l.Equals(gv,gs)){gt.$0;gw=null;}else{gw=(gg(gr))(gs);}gu=gw;}else{gu=(gg(gr))(gs);}return gu;};};return z.Concat(A.ofArray([y.Handler("change",gi),y.Handler("input",gi),y.Handler("keypress",gi),y.DynamicCustom(gq,gf.get_View())]));},Dynamic:function(gx,gy){return w.Dynamic(gy,function(){},function(gA){return function(gB){return x.SetAttr(gA,gx,gB);};});},DynamicClass:function(gC,gD,gE){return w.Dynamic(gD,function(){},function(gG){return function(gH){return gE(gH)?x.AddClass(gG,gC):x.RemoveClass(gG,gC);};});},DynamicCustom:function(gI,gJ){return w.Dynamic(gJ,function(){},gI);},DynamicPred:function(gL,gM,gN){var gO,gT,gW;gO=function(gP){return function(gQ){var gR,gS;gR=gQ[0];gS=gQ[1];return gR?x.SetAttr(gP,gL,gS):x.RemoveAttr(gP,gL);};};gT=function(gU){return function(gV){return[gU,gV];};};gW=t.Map2(gT,gM,gN);return w.Dynamic(gW,function(){},gO);},DynamicProp:function(gY,gZ){return w.Dynamic(gZ,function(){},function(g1){return function(g2){g1[gY]=g2;};});},DynamicStyle:function(g3,g4){return w.Dynamic(g4,function(){},function(g6){return function(g7){return x.SetStyle(g6,g3,g7);};});},Handler:function(g8,g9){return w.Static(function(g_){return g_.addEventListener(g8,g9(g_),false);});},HandlerView:function(g$,ha,hb){var hc,hd,hh;hc=h.Id();hd=function(he){var hf;hf=hb(he);return he.addEventListener(g$,function(hg){return(hf(hg))(he[hc]);},false);};hh=function(hi){return function(hj){hi[hc]=hj;};};return w.Dynamic(ha,hd,hh);},OnAfterRender:function(hk){return w.Mk(0,{$:4,$0:hk});},Style:function(hl,hm){return w.Static(function(hn){return x.SetStyle(hn,hl,hm);});},ValidateForm:function(){return y.OnAfterRender(function(ho){return $$.H5F?$$.H5F.setup(ho):undefined;});},Value:function(hp){return y.CustomValue(hp,function(hq){return hq;},function(hr){return{$:1,$0:hr};});}},AttrProxy:$.Class({},{Append:function(hs,ht){return w.Mk(hs.Flags|ht.Flags,w.AppendTree(hs.Tree,ht.Tree));},Concat:function(hu){var hv,hw,hy,hz;hv=d.toArray(hu);hw=function(hx){return hx;};hy=z.get_Empty();hz=function(hA){return function(hB){return z.Append(hA,hB);};};return v.MapReduce(hw,hy,hz,hv);},Create:function(hC,hD){return w.Static(function(hE){return x.SetAttr(hE,hC,hD);});},Handler:function(hF,hG){return w.Static(function(hH){return hH.addEventListener(hF,hG(hH),false);});},get_Empty:function(){return w.EmptyAttr();}}),Attrs:{Animated:function(hI,hJ,hK){var hL,hM;hL=B.New(hI,hJ,hK);hM=4;r.CanAnimateEnter(hI)?hM=hM|1:null;r.CanAnimateExit(hI)?hM=hM|2:null;return w.Mk(hM,{$:1,$0:hL});},AppendTree:function(hN,hO){var hP,hQ,hR,hS,hT;hP=[hN,hO];if(hP[0].$==0){hR=hP[1];hQ=hR;}else{if(hP[1].$==0){hT=hP[0];hS=hT;}else{hS={$:2,$0:hN,$1:hO};}hQ=hS;}return hQ;},Dynamic:function(hU,hV,hW){var hX;hX={$:1,$0:C.New(hU,hV,hW)};return w.Mk(0,hX);},EmptyAttr:$.Field(function(){return w.Mk(0,{$:0});}),GetAnim:function(hY,hZ){var h0,h2,h3;h0=function(h1){return(hZ(h1))(hY.DynElem);};h2=hY.DynNodes;h3=c.map(h0,h2);return n.Concat(h3);},GetChangeAnim:function(h4){return w.GetAnim(h4,function(h5){return function(h6){return h5.GetChangeAnim(h6);};});},GetEnterAnim:function(h7){return w.GetAnim(h7,function(h8){return function(h9){return h8.GetEnterAnim(h9);};});},GetExitAnim:function(h_){return w.GetAnim(h_,function(h$){return function(ia){return h$.GetExitAnim(ia);};});},HasChangeAnim:function(ib){return(ib.DynFlags&4)!==0;},HasEnterAnim:function(ic){return(ic.DynFlags&1)!==0;},HasExitAnim:function(id){return(id.DynFlags&2)!==0;},Insert:function(ie,_if){var ig,ih,ii,iq;ig=[];ih=[];ii=function(ij){var ik,il,im,_in,io,ip;if(ij.$==1){il=ij.$0;il.Init(ie);ik=ig.push(il);}else{if(ij.$==2){im=ij.$1;_in=ij.$0;ii(_in);ik=ii(im);}else{if(ij.$==3){io=ij.$0;ik=io(ie);}else{if(ij.$==4){ip=ij.$0;ik=ih.push(ip);}else{ik=null;}}}}return ik;};ii(_if.Tree);iq=ig.slice(0);return $.DeleteEmptyFields({DynElem:ie,DynFlags:_if.Flags,DynNodes:iq,OnAfterRender:(ih.length===0?{$:0}:{$:1,$0:function(ir){return d.iter(function(is){return is(ir);},ih);}}).$0},["OnAfterRender"]);},Mk:function(it,iu){return $.New(z,{Flags:it,Tree:iu});},Static:function(iv){return w.Mk(0,{$:3,$0:iv});},Sync:function(iw,ix){var iy,iA;iy=function(iz){return iz.Sync(iw);};iA=ix.DynNodes;return c.iter(iy,iA);},Updates:function(iB){var iC,iI,iJ,iL;iC=function(iD){return function(iE){var iF;iF=function(){return function(){return null;};};return t.Map2(iF,iD,iE);};};iI=iB.DynNodes;iJ=function(iK){return iK.get_Changed();};iL=D.Const(null);return v.MapReduce(iJ,iL,iC,iI);}},CheckedInput:$.Class({get_Input:function(){var iM,iN,iO,iP;if(this.$==1){iN=this.$0;iM=iN;}else{if(this.$==2){iO=this.$0;iM=iO;}else{iP=this.$1;iM=iP;}}return iM;}}),Doc:$.Class({ReplaceInDom:function(iQ){var iR,iS;iR=E.createTextNode("");iS=iQ.parentNode.replaceChild(iR,iQ);return F.RunBefore(iR,this);},get_DocNode:function(){return this.docNode;},get_Updates:function(){return this.updates;}},{Append:function(iT,iU){var iV,iY,iZ,i0,i1;iV=function(){return function(){return null;};};iY=iT.get_Updates();iZ=iU.get_Updates();i0=t.Map2(iV,iY,iZ);i1={$:0,$0:iT.get_DocNode(),$1:iU.get_DocNode()};return F.Mk(i1,i0);},Async:function(i2){var i3,i5,i6;i3=function(i4){return i4;};i5=D.Const(i2);i6=t.MapAsync(i3,i5);return F.EmbedView(i6);},BindView:function(i7,i8){return F.EmbedView(t.Map(i7,i8));},Button:function(i9,i_,i$){var ja,jb,jc;ja=z.Concat(i_);jb=F.Clickable("button",i$);jc=F.TextNode(i9);return G.New(jb,ja,jc);},ButtonView:function(jd,je,jf,jg){var jh,jk,jl,jm;jh=y.HandlerView("click",jf,function(){return function(){return jg;};});jk=z.Concat(d.append([jh],je));jl=x.CreateElement("button");jm=F.TextNode(jd);return G.New(jl,jk,jm);},CheckBox:function(jn,jo){var jp,jq,js,jw;jp=x.CreateElement("input");jq=function(){return jo.Set(jp.checked);};jp.addEventListener("click",jq,false);js=z.Concat(d.toList(d.delay(function(){return d.append(jn,d.delay(function(){return d.append([z.Create("type","checkbox")],d.delay(function(){return[y.DynamicProp("checked",jo.get_View())];}));}));})));jw=F.get_Empty();return G.New(jp,js,jw);},CheckBoxGroup:function(jx,jy,jz){var jA,jB,jH,jJ,jL,jM,jN,jO,jP,jQ,jR,jU;jA=jz.get_View();jB=function(jC){return jz.Update(function(jD){var jE,jG;jE=jC?A.append(jD,A.ofArray([jy])):A.filter(function(jF){return!l.Equals(jF,jy);},jD);jG=H.distinct(jE);return d.toList(jG);});};jH=function(jI){return l.Equals(jI,jy);};jJ=function(jK){return d.exists(jH,jK);};jL=t.Map(jJ,jA);jN=jz.get_Id();jO=h.Id();jM=A.append(A.ofArray([z.Create("type","checkbox"),z.Create("name",jN),z.Create("value",jO),y.DynamicProp("checked",jL)]),A.ofSeq(jx));jP=z.Concat(jM);jQ=x.CreateElement("input");jR=function(){var jT;jT=jQ.checked;return jB(jT);};jQ.addEventListener("click",jR,false);jU=F.get_Empty();return G.New(jQ,jP,jU);},Clickable:function(jV,jW){var jX;jX=x.CreateElement(jV);jX.addEventListener("click",function(jY){jY.preventDefault();return jW(null);},false);return jX;},Concat:function(jZ){var j0,j1,j3,j4;j0=d.toArray(jZ);j1=function(j2){return j2;};j3=F.get_Empty();j4=function(j5){return function(j6){return F.Append(j5,j6);};};return v.MapReduce(j1,j3,j4,j0);},Convert:function(j7,j8){var j9;j9=t.MapSeqCached(j7,j8);return F.Flatten(j9);},ConvertBy:function(j_,j$,ka){var kb;kb=t.MapSeqCachedBy(j_,j$,ka);return F.Flatten(kb);},ConvertSeq:function(kc,kd){var ke;ke=t.MapSeqCachedView(kc,kd);return F.Flatten(ke);},ConvertSeqBy:function(kf,kg,kh){var ki;ki=t.MapSeqCachedViewBy(kf,kg,kh);return F.Flatten(ki);},Element:function(kj,kk,kl){var km,kn,ko;km=z.Concat(kk);kn=F.Concat(kl);ko=x.CreateElement(kj);return G.New(ko,km,kn);},EmbedView:function(kp){var kq,kr,kt,kv,kw,kx;kq=I.CreateEmbedNode();kr=function(ks){I.UpdateEmbedNode(kq,ks.get_DocNode());return ks.get_Updates();};kt=function(){};kv=D.Bind(kr,kp);kw=t.Map(kt,kv);kx={$:2,$0:kq};return F.Mk(kx,kw);},Flatten:function(ky){var kz,kB;kz=function(kA){return F.Concat(kA);};kB=t.Map(kz,ky);return F.EmbedView(kB);},FloatInput:function(kC,kD){var kE,kK;kE=function(kF){return function(kG){var kH,kI,kJ;if(J.isBlank(kG)){kI=(kF.checkValidity?kF.checkValidity():true)?$.New(K,{$:2,$0:kG}):$.New(K,{$:1,$0:kG});}else{kJ=+kG;kI=$$.isNaN(kJ)?$.New(K,{$:1,$0:kG}):$.New(K,{$:0,$0:kJ,$1:kG});}kH=kI;return{$:1,$0:kH};};};kK=function(kL){return d.append(kC,[y.CustomValue(kD,function(kM){return kM.get_Input();},kE(kL)),z.Create("type","number")]);};return F.InputInternal("input",kK);},FloatInputUnchecked:function(kN,kO){var kP,kT;kP=function(kQ){var kR,kS;if(J.isBlank(kQ)){kR={$:1,$0:0};}else{kS=+kQ;kR=$$.isNaN(kS)?{$:0}:{$:1,$0:kS};}return kR;};kT=function(){return d.append(kN,[kO.Get()===0?z.Create("value","0"):z.get_Empty(),y.CustomValue(kO,function(kV){return $$.String(kV);},kP),z.Create("type","number")]);};return F.InputInternal("input",kT);},Input:function(kW,kX){var kY;kY=function(){return d.append(kW,[y.Value(kX)]);};return F.InputInternal("input",kY);},InputArea:function(k0,k1){var k2;k2=function(){return d.append(k0,[y.Value(k1)]);};return F.InputInternal("textarea",k2);},InputInternal:function(k4,k5){var k6,k7,k8;k6=x.CreateElement(k4);k7=z.Concat(k5(k6));k8=F.get_Empty();return G.New(k6,k7,k8);},IntInput:function(k9,k_){var k$,lf;k$=function(la){return function(lb){var lc,ld,le;if(J.isBlank(lb)){ld=(la.checkValidity?la.checkValidity():true)?$.New(K,{$:2,$0:lb}):$.New(K,{$:1,$0:lb});}else{le=+lb;ld=$$.isNaN(le)?$.New(K,{$:1,$0:lb}):$.New(K,{$:0,$0:le,$1:lb});}lc=ld;return{$:1,$0:lc};};};lf=function(lg){return d.append(k9,[y.CustomValue(k_,function(lh){return lh.get_Input();},k$(lg)),z.Create("type","number"),z.Create("step","1")]);};return F.InputInternal("input",lf);},IntInputUnchecked:function(li,lj){var lk,lo;lk=function(ll){var lm,ln;if(J.isBlank(ll)){lm={$:1,$0:0};}else{ln=+ll;lm=ln!==ln>>0?{$:0}:{$:1,$0:ln};}return lm;};lo=function(){return d.append(li,[lj.Get()===0?z.Create("value","0"):z.get_Empty(),y.CustomValue(lj,function(lq){return $$.String(lq);},lk),z.Create("type","number"),z.Create("step","1")]);};return F.InputInternal("input",lo);},Link:function(lr,ls,lt){var lu,lv,lw,lx,ly;lu=z.Concat(ls);lv=z.Create("href","#");lw=z.Append(lv,lu);lx=F.Clickable("a",lt);ly=F.TextNode(lr);return G.New(lx,lw,ly);},LinkView:function(lz,lA,lB,lC){var lD,lG,lH,lI;lD=y.HandlerView("click",lB,function(){return function(){return lC;};});lG=z.Concat(d.append([lD,z.Create("href","#")],lA));lH=x.CreateElement("a");lI=F.TextNode(lz);return G.New(lH,lG,lI);},Mk:function(lJ,lK){return F.New(lJ,lK);},New:function(lL,lM){var lN;lN=$.New(this,{});lN.docNode=lL;lN.updates=lM;return lN;},PasswordBox:function(lO,lP){var lQ;lQ=function(){return d.append(lO,[y.Value(lP),z.Create("type","password")]);};return F.InputInternal("input",lQ);},Radio:function(lS,lT,lU){var lV,lX,lZ,l0,l1,l2,l5,l6,l7;lV=x.CreateElement("input");lV.addEventListener("click",function(){return lU.Set(lT);},false);lX=function(lY){return l.Equals(lY,lT);};lZ=lU.get_View();l0=t.Map(lX,lZ);l1=y.DynamicProp("checked",l0);l2=function(l3,l4){return z.Create(l3,l4);};l5=A.append(A.ofArray([l2("type","radio"),l2("name",lU.get_Id()),l1]),A.ofSeq(lS));l6=z.Concat(l5);l7=F.get_Empty();return G.New(lV,l6,l7);},Run:function(l8,l9){var l_,l$,ma,mc;l_=l9.get_DocNode();I.LinkElement(l8,l_);l$=I.CreateRunState(l8,l_);ma=L.StartProcessor(function(){return I.PerformAnimatedUpdate(l$,l_);});mc=l9.get_Updates();return D.Sink(ma,mc);},RunAfter:function(md,me){var mf,mg;mf=E.createTextNode("");mg=md.parentNode.insertBefore(mf,md.nextSibling);return F.RunBetween(md,mf,me);},RunAfterById:function(mh,mi){var mj;mj=x.Doc().getElementById(mh);return l.Equals(mj,null)?M.FailWith("invalid id: "+mh):F.RunAfter(mj,mi);},RunAppend:function(mk,ml){var mm,mn;mm=E.createTextNode("");mn=mk.appendChild(mm);return F.RunBefore(mm,ml);},RunAppendById:function(mo,mp){var mq;mq=x.Doc().getElementById(mo);return l.Equals(mq,null)?M.FailWith("invalid id: "+mo):F.RunAppend(mq,mp);},RunBefore:function(mr,ms){var mt,mu;mt=E.createTextNode("");mu=mr.parentNode.insertBefore(mt,mr);return F.RunBetween(mt,mr,ms);},RunBeforeById:function(mv,mw){var mx;mx=x.Doc().getElementById(mv);return l.Equals(mx,null)?M.FailWith("invalid id: "+mv):F.RunBefore(mx,mw);},RunBetween:function(my,mz,mA){var mB,mC,mE;I.LinkPrevElement(mz,mA.get_DocNode());mB=I.CreateDelimitedRunState(my,mz,mA.get_DocNode());mC=L.StartProcessor(function(){return I.PerformAnimatedUpdate(mB,mA.get_DocNode());});mE=mA.get_Updates();return D.Sink(mC,mE);},RunById:function(mF,mG){var mH;mH=x.Doc().getElementById(mF);return l.Equals(mH,null)?M.FailWith("invalid id: "+mF):F.Run(mH,mG);},RunPrepend:function(mI,mJ){var mK,mL;mK=E.createTextNode("");mL=mI.insertBefore(mK,mI.firstChild);return F.RunBefore(mK,mJ);},RunPrependById:function(mM,mN){var mO;mO=x.Doc().getElementById(mM);return l.Equals(mO,null)?M.FailWith("invalid id: "+mM):F.RunPrepend(mO,mN);},Select:function(mP,mQ,mR,mS){var mT;mT=D.Const(mR);return F.SelectDyn(mP,mQ,mT,mS);},SelectDyn:function(mU,mV,mW,mX){var mY,mZ,m1,m4,m7,m$,na,nb,nc,ng,nl,nm,nu,nv,nw,nx,nz;mY=[$.New(N,{$:0})];mZ=function(m0){return m0.selectedIndex;};m1=function(m2){var m3;m3=mZ(m2);return mY[0].get_Item(m3);};m4=function(m5){return d.findIndex(function(m6){return l.Equals(m5,m6);},mY[0]);};m7=function(m8){return function(m9){var m_;m_=m4(m9);m8.selectedIndex=m_;return;};};m$=x.CreateElement("select");na=mX.get_View();nb=y.DynamicCustom(m7,na);nc=function(){return mX.UpdateMaybe(function(ne){var nf;nf=m1(m$);return l.Equals(ne,nf)?{$:0}:{$:1,$0:nf};});};m$.addEventListener("change",nc,false);ng=function(nh){var ni;mY[0]=nh;ni=function(nj){return function(nk){return[nj,nk];};};return d.mapi(ni,nh);};nl=t.Map(ng,mW);nm=function(nn){var no,np,nq,nr,ns,nt;no=nn[0];np=nn[1];nq=F.TextNode(mV(np));ns=$$.String(no);nr=A.ofArray([z.Create("value",ns)]);nt=A.ofArray([nq]);return F.Element("option",nr,nt);};nu=F.Convert(nm,nl);nv=z.Concat(mU);nw=z.Append(nb,nv);nx=y.OnAfterRender(function(ny){return(m7(ny))(mX.Get());});nz=z.Append(nx,nw);return G.New(m$,nz,nu);},SelectDynOptional:function(nA,nB,nC,nD,nE){var nF,nJ,nM;nF=function(nG){var nH,nI;if(nG.$==1){nI=nG.$0;nH=nC(nI);}else{nH=nB;}return nH;};nJ=function(nK){return $.New(N,{$:1,$0:{$:0},$1:A.map(function(nL){return{$:1,$0:nL};},nK)});};nM=t.Map(nJ,nD);return F.SelectDyn(nA,nF,nM,nE);},SelectOptional:function(nN,nO,nP,nQ,nR){var nS,nW;nS=function(nT){var nU,nV;if(nT.$==1){nV=nT.$0;nU=nP(nV);}else{nU=nO;}return nU;};nW=$.New(N,{$:1,$0:{$:0},$1:A.map(function(nX){return{$:1,$0:nX};},nQ)});return F.Select(nN,nS,nW,nR);},Static:function(nY){var nZ,n0;nZ=z.get_Empty();n0=F.get_Empty();return G.New(nY,nZ,n0);},SvgElement:function(n1,n2,n3){var n4,n5,n6;n4=z.Concat(n2);n5=F.Concat(n3);n6=x.CreateSvgElement(n1);return G.New(n6,n4,n5);},TextNode:function(n7){var n8,n9;n8={$:5,$0:x.CreateText(n7)};n9=D.Const(null);return F.Mk(n8,n9);},TextView:function(n_){var n$,oa,oc,od;n$=I.CreateTextNode();oa=function(ob){return I.UpdateTextNode(n$,ob);};oc=t.Map(oa,n_);od={$:4,$0:n$};return F.Mk(od,oc);},Verbatim:function(oe){var of,og,oh,oj,om,on;of=O.parseHTML(oe);og=l.Equals(of,null)?[]:of;oh=function(oi){return{$:1,$0:I.CreateElemNode(oi,z.get_Empty(),{$:3})};};oj=function(ok){return function(ol){return{$:0,$0:ok,$1:ol};};};om=v.MapReduce(oh,{$:3},oj,og);on=D.Const(null);return F.Mk(om,on);},get_Empty:function(){var oo,op;oo={$:3};op=D.Const(null);return F.Mk(oo,op);}}),DocElemNode:$.Class({Equals:function(oq){return this.ElKey===oq.ElKey;},GetHashCode:function(){return this.ElKey;}}),Docs:{ComputeChangeAnim:function(or,os){var ot,ov,ox,oy,oz,oA,oC,oD;ot=function(ou){return w.HasChangeAnim(ou.Attr);};ov=function(ow){return P.Filter(ot,ow);};ox=ov(or.PreviousNodes);oy=ov(os);oz=P.Intersect(ox,oy);oA=function(oB){return w.GetChangeAnim(oB.Attr);};oC=P.ToArray(oz);oD=c.map(oA,oC);return n.Concat(oD);},ComputeEnterAnim:function(oE,oF){var oG,oI,oJ,oK,oL,oN,oO;oG=function(oH){return w.HasEnterAnim(oH.Attr);};oI=oE.PreviousNodes;oJ=P.Filter(oG,oF);oK=P.Except(oI,oJ);oL=function(oM){return w.GetEnterAnim(oM.Attr);};oN=P.ToArray(oK);oO=c.map(oL,oN);return n.Concat(oO);},ComputeExitAnim:function(oP,oQ){var oR,oT,oV,oW,oX,oY,oZ;oR=function(oS){return w.HasExitAnim(oS.Attr);};oT=function(oU){return w.GetExitAnim(oU.Attr);};oV=oP.PreviousNodes;oW=P.Filter(oR,oV);oX=P.Except(oQ,oW);oY=P.ToArray(oX);oZ=c.map(oT,oY);return n.Concat(oZ);},CreateDelimitedElemNode:function(o0,o1,o2,o3){var o4,o5;o4=o0.parentNode;I.LinkPrevElement(o1,o3);o5=w.Insert(o4,o2);return $.New(Q,$.DeleteEmptyFields({Attr:o5,Children:o3,Delimiters:[o0,o1],El:o4,ElKey:h.Int(),Render:$.GetOptional(o5.OnAfterRender).$0},["Render"]));},CreateDelimitedRunState:function(o6,o7,o8){return{PreviousNodes:P.get_Empty(),Top:I.CreateDelimitedElemNode(o6,o7,z.get_Empty(),o8)};},CreateElemNode:function(o9,o_,o$){var pa;I.LinkElement(o9,o$);pa=w.Insert(o9,o_);return $.New(Q,$.DeleteEmptyFields({Attr:pa,Children:o$,El:o9,ElKey:h.Int(),Render:$.GetOptional(pa.OnAfterRender).$0},["Render"]));},CreateEmbedNode:function(){return{Current:{$:3},Dirty:false};},CreateRunState:function(pb,pc){return{PreviousNodes:P.get_Empty(),Top:I.CreateElemNode(pb,z.get_Empty(),pc)};},CreateTextNode:function(){return{Text:x.CreateText(""),Dirty:false,Value:""};},DoSyncElement:function(pd){var pe,pf,pq,pr,ps,pt,pu,pv,px,py,pz,pA,pB,pC;pe=pd.El;pf=function(pg,ph){var pi,pj,pk,pl,pm,pn,po,pp;if(pg.$==1){pj=pg.$0;pi={$:1,$0:pj.El};}else{if(pg.$==2){pk=pg.$0;if(pk.Dirty){pk.Dirty=false;pl=I.InsertDoc(pe,pk.Current,ph);}else{pl=pf(pk.Current,ph);}pi=pl;}else{if(pg.$==3){pi=ph;}else{if(pg.$==4){pm=pg.$0;pi={$:1,$0:pm.Text};}else{if(pg.$==5){pn=pg.$0;pi={$:1,$0:pn};}else{po=pg.$1;pp=pg.$0;pi=pf(pp,pf(po,ph));}}}}}return pi;};pq=R.DocChildren(pd);pr=pd.El;ps=$.GetOptional(pd.Delimiters);pt=R.Children(pr,ps);pu=pd.El;pv=function(pw){return x.RemoveNode(pu,pw);};px=R.Except(pq,pt);R.Iter(pv,px);py=$.GetOptional(pd.Delimiters);if(py.$==1){pB=py.$0[1];pA={$:1,$0:pB};}else{pA={$:0};}pz=pA;pC=pf(pd.Children,pz);return;},DomNodes:$.Class({},{Children:function(pD,pE){var pF,pG,pH,pI,pJ,pK,pL;if(pE.$==1){pG=pE.$0[1];pH=pE.$0[0];pI=b.prototype.constructor.apply(b,[]);pJ=pH.nextSibling;while(pJ!==pG){pK=pI.push(pJ);pJ=pJ.nextSibling;}pF=$.New(R,{$:0,$0:pI});}else{pL=pD.childNodes;pF=$.New(R,{$:0,$0:c.init(pD.childNodes.length,function(pM){return pL[pM];})});}return pF;},DocChildren:function(pN){var pO,pP;pO=[];pP=function(pQ){var pR,pS,pT,pU,pV,pW,pX;if(pQ.$==2){pS=pQ.$0;pR=pP(pS.Current);}else{if(pQ.$==1){pT=pQ.$0;pR=pO.push(pT.El);}else{if(pQ.$==3){pR=null;}else{if(pQ.$==5){pU=pQ.$0;pR=pO.push(pU);}else{if(pQ.$==4){pV=pQ.$0;pR=pO.push(pV.Text);}else{pW=pQ.$1;pX=pQ.$0;pP(pX);pR=pP(pW);}}}}}return pR;};pP(pN.Children);return $.New(R,{$:0,$0:pO.slice(0)});},Except:function(pY,pZ){var p0,p1,p2,p6;p0=pY.$0;p1=pZ.$0;p2=function(p3){var p4;p4=function(p5){return!(p3===p5);};return d.forall(p4,p0);};p6=c.filter(p2,p1);return $.New(R,{$:0,$0:p6});},FoldBack:function(p7,p8,p9){var p_;p_=p8.$0;return c.foldBack(p7,p_,p9);},Iter:function(p$,qa){var qb;qb=qa.$0;return c.iter(p$,qb);}}),InsertDoc:function(qc,qd,qe){var qf,qg,qh,qi,qj,qk,ql;if(qd.$==1){qg=qd.$0;qf=I.InsertNode(qc,qg.El,qe);}else{if(qd.$==2){qh=qd.$0;qh.Dirty=false;qf=I.InsertDoc(qc,qh.Current,qe);}else{if(qd.$==3){qf=qe;}else{if(qd.$==4){qi=qd.$0;qf=I.InsertNode(qc,qi.Text,qe);}else{if(qd.$==5){qj=qd.$0;qf=I.InsertNode(qc,qj,qe);}else{qk=qd.$1;ql=qd.$0;qf=I.InsertDoc(qc,ql,I.InsertDoc(qc,qk,qe));}}}}}return qf;},InsertNode:function(qm,qn,qo){x.InsertAt(qm,qo,qn);return{$:1,$0:qn};},LinkElement:function(qp,qq){var qr;qr=I.InsertDoc(qp,qq,{$:0});return;},LinkPrevElement:function(qs,qt){var qu;qu=I.InsertDoc(qs.parentNode,qt,{$:1,$0:qs});return;},NodeSet:$.Class({},{Except:function(qv,qw){var qx,qy;qx=qv.$0;qy=qw.$0;return $.New(P,{$:0,$0:k.Except(qx,qy)});},Filter:function(qz,qA){var qB;qB=qA.$0;return $.New(P,{$:0,$0:k.Filter(qz,qB)});},FindAll:function(qC){var qD,qE;qD=[];qE=function(qF){var qG,qH,qI,qJ,qK;if(qF.$==0){qH=qF.$1;qI=qF.$0;qE(qI);qG=qE(qH);}else{if(qF.$==1){qJ=qF.$0;qD.push(qJ);qG=qE(qJ.Children);}else{if(qF.$==2){qK=qF.$0;qG=qE(qK.Current);}else{qG=null;}}}return qG;};qE(qC);return $.New(P,{$:0,$0:j.New(qD.slice(0))});},Intersect:function(qL,qM){var qN,qO;qN=qL.$0;qO=qM.$0;return $.New(P,{$:0,$0:k.Intersect(qN,qO)});},IsEmpty:function(qP){var qQ;qQ=qP.$0;return qQ.get_Count()===0;},ToArray:function(qR){var qS;qS=qR.$0;return k.ToArray(qS);},get_Empty:function(){return $.New(P,{$:0,$0:j.New11()});}}),PerformAnimatedUpdate:function(qT,qU){return a.Delay(function(){var qW,qX,qY,qZ;qW=P.FindAll(qU);qX=I.ComputeChangeAnim(qT,qW);qY=I.ComputeEnterAnim(qT,qW);qZ=I.ComputeExitAnim(qT,qW);return a.Bind(n.Play(n.Append(qX,qZ)),function(){I.SyncElemNode(qT.Top);return a.Bind(n.Play(qY),function(){return a.Return(void(qT.PreviousNodes=qW));});});});},Sync:function(q2){var q3;q3=function(q4){var q5,q6,q7,q8,q9,q_,q$;if(q4.$==1){q6=q4.$0;I.SyncElement(q6);q5=q3(q6.Children);}else{if(q4.$==2){q7=q4.$0;q5=q3(q7.Current);}else{if(q4.$==3){q5=null;}else{if(q4.$==5){q5=null;}else{if(q4.$==4){q8=q4.$0;if(q8.Dirty){q8.Text.nodeValue=q8.Value;q9=void(q8.Dirty=false);}else{q9=null;}q5=q9;}else{q_=q4.$1;q$=q4.$0;q3(q$);q5=q3(q_);}}}}}return q5;};return q3(q2);},SyncElemNode:function(ra){I.SyncElement(ra);return I.Sync(ra.Children);},SyncElement:function(rb){var rc,rk,rl,rm;rc=function(rd){var re;re=function(rf){var rg,rh,ri,rj;if(rf.$==0){rh=rf.$1;ri=rf.$0;rg=re(ri)?true:re(rh);}else{if(rf.$==2){rj=rf.$0;rg=rj.Dirty?true:re(rj.Current);}else{rg=false;}}return rg;};return re(rd.Children);};w.Sync(rb.El,rb.Attr);rc(rb)?I.DoSyncElement(rb):null;rk=$.GetOptional(rb.Render);if(rk.$==1){rm=rk.$0;rm(rb.El);rl=void(delete rb.Render);}else{rl=null;}return rl;},UpdateEmbedNode:function(rn,ro){rn.Current=ro;rn.Dirty=true;return;},UpdateTextNode:function(rp,rq){rp.Value=rq;rp.Dirty=true;return;}},DomUtility:{AddClass:function(rr,rs){var rt;rt=O(rr).addClass(rs);return;},AppendTo:function(ru,rv){var rw;rw=ru.appendChild(rv);return;},Clear:function(rx){var ry;while(rx.hasChildNodes()){ry=rx.removeChild(rx.firstChild);}return;},ClearAttrs:function(rz){var rA;while(rz.hasAttributes()){rA=rz.removeAttributeNode(rz.attributes.item(0));}return;},CreateAttr:function(rB,rC){var rD;rD=x.Doc().createAttribute(rB);rD.value=rC;return rD;},CreateElement:function(rE){return x.Doc().createElement(rE);},CreateSvgElement:function(rF){return x.Doc().createElementNS("http://www.w3.org/2000/svg",rF);},CreateText:function(rG){return x.Doc().createTextNode(rG);},Doc:$.Field(function(){return E;}),InsertAt:function(rH,rI,rJ){var rK,rN,rO,rP,rQ,rR,rS,rT,rU,rV,rW,rX,rY,rZ;rK=function(rL){var rM;rM=rL.nextSibling;return l.Equals(rM,null)?{$:0}:{$:1,$0:rM};};if(rJ.parentNode===rH){rP=rK(rJ);rQ=[rI,rP];if(rQ[0].$==1){if(rQ[1].$==1){rT=rQ[0].$0;rU=rQ[1].$0;rS=rT===rU;}else{rS=false;}rR=rS;}else{rR=rQ[1].$==0?true:false;}rO=rR;}else{rO=false;}rN=rO;if(!rN){if(rI.$==1){rX=rI.$0;rY=rH.insertBefore(rJ,rX);rW=void rY;}else{rZ=rH.appendChild(rJ);rW=void rZ;}rV=rW;}else{rV=null;}return rV;},RemoveAttr:function(r0,r1){return r0.removeAttribute(r1);},RemoveClass:function(r2,r3){var r4;r4=O(r2).removeClass(r3);return;},RemoveNode:function(r5,r6){var r7,r8;if(r6.parentNode===r5){r8=r5.removeChild(r6);r7=void r8;}else{r7=null;}return r7;},SetAttr:function(r9,r_,r$){return r9.setAttribute(r_,r$);},SetProperty:function($target,$name,$value){var $0=this,$this=this;return $target.setProperty($name,$value);},SetStyle:function(sa,sb,sc){return x.SetProperty(sa.style,sb,sc);}},DoubleInterpolation:$.Class({Interpolate:function(sd,se,sf){return se+sd*(sf-se);}}),DynamicAttrNode:$.Class({GetChangeAnim:function(){return n.get_Empty();},GetEnterAnim:function(){return n.get_Empty();},GetExitAnim:function(){return n.get_Empty();},Init:function(sj){return this.init.call(null,sj);},Sync:function(sk){var sl;if(this.dirty){(this.push.call(null,sk))(this.value);sl=void(this.dirty=false);}else{sl=null;}return sl;},get_Changed:function(){return this.updates;}},{New:function(sm,sn,so){var sp,sq;sp=$.New(this,{});sp.init=sn;sp.push=so;sp.value=undefined;sp.dirty=true;sq=function(sr){sp.value=sr;sp.dirty=true;return;};sp.updates=t.Map(sq,sm);return sp;}}),Easing:$.Class({},{Custom:function(ss){return $.New(S,{TransformTime:ss});},get_CubicInOut:function(){return T.CubicInOut();}}),Easings:{CubicInOut:$.Field(function(){var st;st=function(su){var sv,sw;sv=su*su;sw=sv*su;return 3*sv-2*sw;};return $.New(S,{TransformTime:st});})},Elt:$.Class({AddClass:function($cls){var $this=this;return $this.elt.className+=" "+$cls;},Append:function(sx){var sy,sz,sA,sD,sE,sF;sy=this.get_DocElemNode();sy.Children={$:0,$0:sy.Children,$1:sx.get_DocNode()};sz=this.rvUpdates;sA=function(){return function(){return null;};};sD=U.Get(this.rvUpdates);sE=sx.get_Updates();U.Set(sz,t.Map2(sA,sD,sE));sF=I.InsertDoc(this.elt,sx.get_DocNode(),{$:0});return;},Clear:function(){var sG;this.get_DocElemNode().Children={$:3};U.Set(this.rvUpdates,D.Const(null));while(this.elt.hasChildNodes()){sG=this.elt.removeChild(this.elt.firstChild);}return;},GetAttribute:function(sH){return this.elt.getAttribute(sH);},GetProperty:function(sI){return this.elt[sI];},GetText:function(){return this.elt.textContent;},GetValue:function(){return this.elt.value;},HasAttribute:function(sJ){return this.elt.hasAttribute(sJ);},HasClass:function(sK){return(new V("(\\s|^)"+sK+"(\\s|$)")).test(this.elt.className);},Html:function(){return this.elt.outerHTML;},Id:function(){return this.elt.id;},OnAfterRender:function(sL){var sM,sN,sO;sM=$.GetOptional(this.get_DocElemNode().Render);if(sM.$==1){sO=sM.$0;sN={$:1,$0:function(sP){sO(sP);return sL(sP);}};}else{sN={$:1,$0:sL};}$.SetOptional(this.get_DocElemNode(),"Render",sN);return this;},Prepend:function(sQ){var sR,sS,sT,sW,sX,sY,sZ,s0;sR=this.get_DocElemNode();sR.Children={$:0,$0:sQ.get_DocNode(),$1:sR.Children};sS=this.rvUpdates;sT=function(){return function(){return null;};};sW=U.Get(this.rvUpdates);sX=sQ.get_Updates();U.Set(sS,t.Map2(sT,sW,sX));sY=this.elt.firstChild;sZ=l.Equals(sY,null)?{$:0}:{$:1,$0:sY};s0=I.InsertDoc(this.elt,sQ.get_DocNode(),sZ);return;},RemoveAttribute:function(s1){return this.elt.removeAttribute(s1);},RemoveClass:function(s2){this.elt.className=this.elt.className.replace(new V("(\\s|^)"+s2+"(\\s|$)")," ");},SetAttribute:function(s3,s4){return this.elt.setAttribute(s3,s4);},SetProperty:function(s5,s6){this.elt[s5]=s6;},SetStyle:function(s7,s8){this.elt.style[s7]=s8;},SetText:function(s9){this.get_DocElemNode().Children={$:3};U.Set(this.rvUpdates,D.Const(null));this.elt.textContent=s9;return;},SetValue:function(s_){this.elt.value=s_;},get_DocElemNode:function(){var s$,ta,tb;s$=this.docNode1;if(s$.$==1){tb=s$.$0;ta=tb;}else{ta=M.FailWith("Elt: Invalid docNode");}return ta;},get_Element:function(){return this.elt;},on:function(tc,td){this.elt.addEventListener(tc,td(this.elt),false);return this;}},{New:function(te,tf,tg){var th,ti,tj,tk,tn,tp,tq;th=I.CreateElemNode(te,tf,tg.get_DocNode());ti=W.Create(tg.get_Updates());tj=w.Updates(th.Attr);tk=function(){return function(){return null;};};tn=function(to){return t.Map2(tk,tj,to);};tp=ti.get_View();tq=D.Bind(tn,tp);return G.New1({$:1,$0:th},tq,te,ti,tj);},New1:function(tr,ts,tt,tu){var tw;tw=$.New(this,F.New(tr,ts));tw.docNode1=tr;tw.elt=tt;tw.rvUpdates=tu;return tw;}}),Flow1:$.Class({},{Bind:function(tx,ty){return{Render:function(tz){return function(tA){return(tx.Render.call(null,tz))(function(tB){return(ty(tB).Render.call(null,tz))(tA);});};}};},Define:function(tC){return{Render:function(tD){return function(tE){var tF;tF=tC(tE);return U.Set(tD,tF);};}};},Embed:function(tG){var tH;tH=W.Create(F.get_Empty());(tG.Render.call(null,tH))(function(){});return F.EmbedView(tH.get_View());},Map:function(tJ,tK){return{Render:function(tL){return function(tM){return(tK.Render.call(null,tL))(function(tN){return tM(tJ(tN));});};}};},Return:function(tO){return{Render:function(){return function(tQ){return tQ(tO);};}};},Static:function(tR){return{Render:function(tS){return function(tT){U.Set(tS,tR);return tT(null);};}};},get_Do:function(){return X.New();}}),FlowBuilder:$.Class({Bind:function(tU,tV){return Y.Bind(tU,tV);},Return:function(tW){return Y.Return(tW);},ReturnFrom:function(tX){return tX;}},{New:function(){return $.New(this,{});}}),Html:{attr:$.Class({},{New:function(){return $.New(this,{});}})},Input:{ActivateButtonListener:$.Field(function(){var tY,t6;tY=function(tZ,t0){var t1,t2,t3,t4,t5;t1=tZ.button;if(t1===0){t3=Z.MouseBtnSt1().Left;t2=U.Set(t3,t0);}else{if(t1===1){t4=Z.MouseBtnSt1().Middle;t2=U.Set(t4,t0);}else{if(t1===2){t5=Z.MouseBtnSt1().Right;t2=U.Set(t5,t0);}else{t2=null;}}}return t2;};if(!Z.MouseBtnSt1().Active){Z.MouseBtnSt1().Active=true;E.addEventListener("mousedown",function(t7){return tY(t7,true);},false);t6=E.addEventListener("mouseup",function(t8){return tY(t8,false);},false);}else{t6=null;}return t6;}),ActivateKeyListener:$.Field(function(){var t9,t_,ue;if(!Z.KeyListenerState().KeyListenerActive){t_=O(E).keydown(function(t$){var ua,ub,uc;ua=t$.which;ub=Z.KeyListenerState().LastPressed;U.Set(ub,ua);uc=U.Get(Z.KeyListenerState().KeysPressed);return!d.exists(function(ud){return ud===ua;},uc)?U.Set(Z.KeyListenerState().KeysPressed,A.append(uc,A.ofArray([ua]))):null;});ue=O(E).keyup(function(uf){var ug,uh,ui,uk;ug=uf.which;uh=Z.KeyListenerState().KeysPressed;ui=function(uj){return uj!==ug;};uk=function(ul){return A.filter(ui,ul);};return U.Update(uh,uk);});t9=void ue;}else{t9=null;}return t9;}),KeyListenerState:$.Field(function(){return{KeysPressed:W.Create($.New(N,{$:0})),KeyListenerActive:false,LastPressed:W.Create(-1)};}),Keyboard:$.Class({},{IsPressed:function(um){var un;Z.ActivateKeyListener();un=function(uo){return uo===um;};return t.Map(function(up){return d.exists(un,up);},Z.KeyListenerState().KeysPressed.get_View());},get_KeysPressed:function(){Z.ActivateKeyListener();return Z.KeyListenerState().KeysPressed.get_View();},get_LastPressed:function(){Z.ActivateKeyListener();return Z.KeyListenerState().LastPressed.get_View();}}),Mouse:$.Class({},{get_LeftPressed:function(){Z.ActivateButtonListener();return Z.MouseBtnSt1().Left.get_View();},get_MiddlePressed:function(){Z.ActivateButtonListener();return Z.MouseBtnSt1().Middle.get_View();},get_MousePressed:function(){Z.ActivateButtonListener();return D.Apply(D.Apply(D.Apply(D.Const(function(uq){return function(ur){return function(us){return(uq?true:ur)?true:us;};};}),Z.MouseBtnSt1().Left.get_View()),Z.MouseBtnSt1().Middle.get_View()),Z.MouseBtnSt1().Right.get_View());},get_Position:function(){var ut,ux;ut=function(uu){var uv,uw;uv=Z.MousePosSt1().PosV;uw=[uu.clientX,uu.clientY];return U.Set(uv,uw);};if(!Z.MousePosSt1().Active){E.addEventListener("mousemove",ut,false);ux=void(Z.MousePosSt1().Active=true);}else{ux=null;}return Z.MousePosSt1().PosV.get_View();},get_RightPressed:function(){Z.ActivateButtonListener();return Z.MouseBtnSt1().Right.get_View();}}),MouseBtnSt1:$.Field(function(){return{Active:false,Left:W.Create(false),Middle:W.Create(false),Right:W.Create(false)};}),MousePosSt1:$.Field(function(){return{Active:false,PosV:W.Create([0,0])};})},Interpolation1:$.Class({},{get_Double:function(){return $.New(_0,{$:0});}}),Key:$.Class({},{Fresh:function(){return $.New(_1,{$:0,$0:h.Int()});}}),ListModel:$.Class({Add:function(uy){var uz,uA,uB,uC,uE=this,uF;uz=U.Get(this.Var);if(!_2.Contains(this.get_Key(),uy,uz)){uB=this.Storage;uA=U.Set(this.Var,uB.Add(uy,uz));}else{uC=c.findINdex(function(uD){return l.Equals((uE.get_Key())(uD),(uE.get_Key())(uy));},uz);uF=uE.Storage;uA=U.Set(uE.Var,uF.SetAt(uC,uy,uz));}return uA;},Clear:function(){return U.Set(this.Var,this.Storage.Set(d.empty()));},ContainsKey:function(uG){var uI=this;return d.exists(function(uH){return l.Equals(uI.key.call(null,uH),uG);},U.Get(uI.Var));},ContainsKeyAsView:function(uJ){var uK,uM=this,uN,uP;uK=function(uL){return l.Equals(uM.key.call(null,uL),uJ);};uN=function(uO){return d.exists(uK,uO);};uP=uM.Var.get_View();return t.Map(uN,uP);},Find:function(uQ){return c.find(uQ,U.Get(this.Var));},FindAsView:function(uR){var uS,uU;uS=function(uT){return c.find(uR,uT);};uU=this.Var.get_View();return t.Map(uS,uU);},FindByKey:function(uV){var uX=this;return c.find(function(uW){return l.Equals(uX.key.call(null,uW),uV);},U.Get(uX.Var));},FindByKeyAsView:function(uY){var uZ,u1=this,u2,u4;uZ=function(u0){return l.Equals(u1.key.call(null,u0),uY);};u2=function(u3){return c.find(uZ,u3);};u4=u1.Var.get_View();return t.Map(u2,u4);},Iter:function(u5){return c.iter(u5,U.Get(this.Var));},Lens:function(u6){var u7,u9;u7=function(u8){return u8;};u9=function(){return function(u$){return u$;};};return this.LensInto(u7,u9,u6);},LensInto:function(va,vb,vc){return _3.New(this,vc,va,vb);},Remove:function(vd){var ve,vf,vg,vh,vi,vj;ve=U.Get(this.Var);if(_2.Contains(this.key,vd,ve)){vg=this.key;vh=vg(vd);vi=this.Storage;vj=function(vk){return!l.Equals(vg(vk),vh);};vf=U.Set(this.Var,vi.RemoveIf(vj,ve));}else{vf=null;}return vf;},RemoveBy:function(vl){var vm,vn,vo,vr;vm=this.Var;vn=this.Storage;vo=function(vp){var vq;vq=vl(vp);return!vq;};vr=U.Get(this.Var);return U.Set(vm,vn.RemoveIf(vo,vr));},RemoveByKey:function(vs){var vt,vu,vv,vx=this,vy;vt=this.Var;vu=this.Storage;vv=function(vw){return!l.Equals((vx.get_Key())(vw),vs);};vy=U.Get(vx.Var);return U.Set(vt,vu.RemoveIf(vv,vy));},Set:function(vz){return U.Set(this.Var,this.Storage.Set(vz));},TryFind:function(vA){return c.tryFind(vA,U.Get(this.Var));},TryFindAsView:function(vB){var vC,vE;vC=function(vD){return c.tryFind(vB,vD);};vE=this.Var.get_View();return t.Map(vC,vE);},TryFindByKey:function(vF){var vH=this;return c.tryFind(function(vG){return l.Equals(vH.key.call(null,vG),vF);},U.Get(vH.Var));},TryFindByKeyAsView:function(vI){var vJ,vL=this,vM,vO;vJ=function(vK){return l.Equals(vL.key.call(null,vK),vI);};vM=function(vN){return c.tryFind(vJ,vN);};vO=vL.Var.get_View();return t.Map(vM,vO);},UpdateAll:function(vP){var vQ,vR,vZ=this;vQ=this.Var;vR=function(vS){var vT;vT=function(vU){return function(vV){var vW,vY;vW=function(vX){return c.set(vS,vU,vX);};vY=vP(vV);return s.iter(vW,vY);};};c.iteri(vT,vS);return vZ.Storage.Set(vS);};return U.Update(vQ,vR);},UpdateBy:function(v0,v1){var v2,v3,v5=this,v6,v7,v8,v9,v_,v$;v2=U.Get(this.Var);v3=c.tryFindIndex(function(v4){return l.Equals(v5.key.call(null,v4),v1);},v2);if(v3.$==1){v7=v3.$0;v8=v0(c.get(v2,v7));if(v8.$==1){v_=v8.$0;v$=v5.Storage;v9=U.Set(v5.Var,v$.SetAt(v7,v_,v2));}else{v9=null;}v6=v9;}else{v6=null;}return v6;},get_Key:function(){return this.key;},get_Length:function(){return c.length(U.Get(this.Var));},get_LengthAsView:function(){var wa,wc;wa=function(wb){return c.length(wb);};wc=this.Var.get_View();return t.Map(wa,wc);},get_View:function(){return this.view;}},{Create:function(wd,we){var wf,wg;wf=d.toArray(we);wg=_4.InMemory(wf);return _5.CreateWithStorage(wd,wg);},CreateWithStorage:function(wh,wi){var wj,wk,wl,wm,wp,wq;wj=H.distinctBy(wh,wi.Init());wk=d.toArray(wj);wl=W.Create(wk);wm=function(wn){var wo;wo=wi.Set(wn);return wn.slice();};wp=wl.get_View();wq=t.Map(wm,wp);return $.New(_5,{key:wh,Var:wl,Storage:wi,view:wq});}}),ListModel1:$.Class({},{FromSeq:function(wr){var ws;ws=function(wt){return wt;};return _5.Create(ws,wr);},Key:function(wu){return wu.key;},View:function(wv){return wv.view;}}),ListModels:{Contains:function(ww,wx,wy){var wz;wz=ww(wx);return d.exists(function(wA){return l.Equals(ww(wA),wz);},wy);}},Model:$.Class({get_View:function(){return _6.View(this);}},{Create:function(wB,wC){var wD,wE,wF;wD=W.Create(wC);wE=wD.get_View();wF=t.Map(wB,wE);return $.New(_7,{$:0,$0:wD,$1:wF});},Update:function(wG,wH){var wI,wJ;wI=wH.$0;wJ=function(wK){wG(wK);return wK;};return U.Update(wI,wJ);}}),Model1:$.Class({},{View:function(wL){var wM;wM=wL.$1;return wM;}}),ReactiveExtensions:$.Class({},{New:function(){return $.New(this,{});}}),RefImpl:$.Class({Get:function(){return this.get.call(null,this.baseRef.Get());},Set:function(wN){var wP=this;return this.baseRef.Update(function(wO){return(wP.update.call(null,wO))(wN);});},Update:function(wQ){var wS=this;return this.baseRef.Update(function(wR){return(wS.update.call(null,wR))(wQ(wS.get.call(null,wR)));});},UpdateMaybe:function(wT){var wV=this;return this.baseRef.UpdateMaybe(function(wU){return s.map(wV.update.call(null,wU),wT(wV.get.call(null,wU)));});},get_Id:function(){return this.id;},get_View:function(){var wW,wX;wW=this.get;wX=this.baseRef.get_View();return t.Map(wW,wX);}},{New:function(wY,wZ,w0){var w1;w1=$.New(this,{});w1.baseRef=wY;w1.get=wZ;w1.update=w0;w1.id=h.Id();return w1;}}),RefImpl1:$.Class({Get:function(){return this.get.call(null,this.m.FindByKey(this.key));},Set:function(w2){var w3,w4,w6=this,w7;w3=this.m;w4=function(w5){return{$:1,$0:(w6.update.call(null,w5))(w2)};};w7=w6.key;return w3.UpdateBy(w4,w7);},Update:function(w8){var w9,w_,xa=this,xb;w9=this.m;w_=function(w$){return{$:1,$0:(xa.update.call(null,w$))(w8(xa.get.call(null,w$)))};};xb=xa.key;return w9.UpdateBy(w_,xb);},UpdateMaybe:function(xc){var xd,xe,xg=this,xh;xd=this.m;xe=function(xf){return s.map(xg.update.call(null,xf),xc(xg.get.call(null,xf)));};xh=xg.key;return xd.UpdateBy(xe,xh);},get_Id:function(){return this.id;},get_View:function(){var xi,xj;xi=this.get;xj=this.m.FindByKeyAsView(this.key);return t.Map(xi,xj);}},{New:function(xk,xl,xm,xn){var xo;xo=$.New(this,{});xo.m=xk;xo.key=xl;xo.get=xm;xo.update=xn;xo.id=h.Id();return xo;}}),Route:{Append:function(xp,xq){var xr,xs;xr=xp.$0;xs=xq.$0;return{$:0,$0:o.Append(xr,xs)};},FromList:function(xt){var xu,xv;xu=c.ofSeq(xt);xv=o.FromArray(xu);return{$:0,$0:xv};},MakeHash:function(xw){var xx,xy,xz;xx=xw.$0;xy=o.ToArray(xx);xz=c.map(function(xA){return _8(xA);},xy);return _9.concat("/",xz);},NoHash:function(xB){return _9.StartsWith(xB,"#")?xB.substring(1):xB;},ParseHash:function(xC){var xD,xE,xG;xD=_9.SplitChars(_.NoHash(xC),[47],1);xE=c.map(function(xF){return ba(xF);},xD);xG=o.FromArray(xE);return{$:0,$0:xG};},SameHash:function(xH,xI){return _.NoHash(xH)===_.NoHash(xI);},ToList:function(xJ){var xK,xL;xK=xJ.$0;xL=o.ToArray(xK);return A.ofArray(xL);}},RouteMap:$.Class({},{Create:function(xM,xN){return{Des:xN,Ser:xM};},Install:function(xO){return bb.InstallMap(xO);}}),Router1:$.Class({},{Dir:function(xP,xQ){var xR;xR=bc.Merge(xQ);return bc.Prefix(xP,xR);},Install:function(xS,xT){return bb.Install(xS,xT);},Merge:function(xU){return bb.MergeRouters(xU);},Prefix:function(xV,xW){var xX,xY;xX=xW.$0;xY=xW.$1;return{$:0,$0:xX,$1:bd.Prefix(xV,xY)};},Route:function(xZ,x0,x1){return bb.DefineRoute(xZ,x0,x1);}}),Routing:{ComputeBodies:function(x2){var x3,x4,x6;x3=be.New12();x4=function(x5){return x3.set_Item(x5.RouteId,x5);};x6=bd.ToArray(x2);c.iter(x4,x6);return x3;},DefineRoute:function(x7,x8,x9){var x_,x$,ya,yb;x_=W.Create(x8);x$=h.Int();ya=(x9({$:0,$0:x$}))(x_);yb=bd.Leaf({$:0,$0:x$,$1:function(yc){var yd,yf;yd=function(ye){return yc.UpdateRoute.call(null,bb.DoLink(x7,ye));};yf=x_.get_View();D.Sink(yd,yf);return{OnRouteChanged:function(yg){return U.Set(x_,bb.DoRoute(x7,yg));},OnSelect:function(){return yc.UpdateRoute.call(null,bb.DoLink(x7,U.Get(x_)));},RouteId:x$,RouteValue:ya};}});return{$:0,$0:{$:1,$0:ya},$1:yb};},DoLink:function(yi,yj){return _.FromList(yi.Ser.call(null,yj));},DoRoute:function(yk,yl){return yk.Des.call(null,_.ToList(yl));},Install:function(ym,yn){var yo,yp,yq,yt,yu,yA,yB,yD,yE,yF,yG,yH,yI,yJ,yK,yM,yN,yU;yo=yn.$0;yp=yn.$1;yq=bb.InstallMap({Des:function(yr){return _.FromList(yr);},Ser:function(ys){return _.ToList(ys);}});yt={Bodies:undefined,CurrentRoute:yq,CurrentSite:0,Selection:undefined};yu=function(yv){return function(yw){var yx,yy;yx=yw.$1;yy=yw.$0;return yx({UpdateRoute:function(yz){return bb.OnInternalSiteUpdate(yt,yy,yv,yz);}});};};yA=bd.Map(yu,yp);yt.Bodies=bb.ComputeBodies(yA);yB=function(yC){return bd.Lookup(yA,_.ToList(yC));};yD=yB(U.Get(yq));if(yD.$==0){yG=yD.$0;yD.$1;yt.CurrentSite=yG.RouteId;yF=W.Create(yG.RouteValue);}else{if(yo.$==1){yJ=yo.$0;yI=yJ;}else{yI=M.FailWith("Site.Install fails on empty site");}yH=yI;yF=W.Create(yH);}yE=yF;yt.Selection=yE;yK=function(yL){return bb.OnSelectSite(yt,ym(yL));};yM=yE.get_View();D.Sink(yK,yM);yN=function(yO){var yP,yQ,yR,yS,yT;yP=yB(yO);if(yP.$==1){yQ=null;}else{yR=yP.$0;yS=yP.$1;yT=_.FromList(yS);yQ=bb.OnGlobalRouteChange(yt,yR,yT);}return yQ;};yN(U.Get(yq));yU=yq.get_View();D.Sink(yN,yU);return yE;},InstallMap:function(yV){var yW,yZ,y0,y3,y5,y8;yW=function(){var yY;yY=_.ParseHash(bf.location.hash);return yV.Des.call(null,_.ToList(yY));};yZ=W.Create(yW(null));y0=function(y1){var y2;y2=U.Get(yZ);return!l.Equals(yV.Ser.call(null,y2),yV.Ser.call(null,y1))?U.Set(yZ,y1):null;};y3=function(){return y0(yW(null));};bf.onpopstate=y3;bf.onhashchange=y3;y5=function(y6){var y7;y7=_.MakeHash(_.FromList(yV.Ser.call(null,y6)));return!_.SameHash(bf.location.hash,y7)?void(bf.location.hash=y7):null;};y8=yZ.get_View();D.Sink(y5,y8);return yZ;},MergeRouters:function(y9){var y_,y$,zc,zd,ze,zh,zi,zj;y_=d.toArray(y9);y$=function(za){var zb;zb=za.$1;return zb;};zc=d.map(y$,y_);zd=bd.Merge(zc);ze=function(zf){var zg;zg=zf.$0;return zg;};zh=d.tryPick(ze,y_);if(zd.$==1){zj=zd.$0;zi={$:0,$0:zh,$1:zj};}else{zi=M.FailWith("Invalid Site.Merge: need more prefix disambiguation");}return zi;},OnGlobalRouteChange:function(zk,zl,zm){var zn;if(zk.CurrentSite!==zl.RouteId){zk.CurrentSite=zl.RouteId;zn=U.Set(zk.Selection,zl.RouteValue);}else{zn=null;}return zl.OnRouteChanged.call(null,zm);},OnInternalSiteUpdate:function(zo,zp,zq,zr){var zs,zt;if(zo.CurrentSite===zp){zt=_.Append(_.FromList(zq),zr);zs=bb.SetCurrentRoute(zo,zt);}else{zs=null;}return zs;},OnSelectSite:function(zu,zv){var zw,zx;zw=zv.$0;if(zu.CurrentSite!==zw){zu.CurrentSite=zw;zx=zu.Bodies.get_Item(zw).OnSelect.call(null,null);}else{zx=null;}return zx;},SetCurrentRoute:function(zy,zz){return!l.Equals(U.Get(zy.CurrentRoute),zz)?U.Set(zy.CurrentRoute,zz):null;}},Snap1:{Bind:function(zA,zB){var zC,zD,zF;zC=bg.Create();zD=function(){return bg.MarkObsolete(zC);};zF=function(zG){var zH;zH=zA(zG);return bg.When(zH,function(zI){return(bg.IsForever(zH)?bg.IsForever(zB):false)?bg.MarkForever(zC,zI):bg.MarkReady(zC,zI);},zD);};bg.When(zB,zF,zD);return zC;},Create:function(){return bg.Make({$:3,$0:[],$1:[]});},CreateForever:function(zJ){return bg.Make({$:0,$0:zJ});},CreateWithValue:function(zK){return bg.Make({$:2,$0:zK,$1:[]});},IsForever:function(zL){var zM;zM=zL.State;return zM.$==0?true:false;},IsObsolete:function(zN){var zO;zO=zN.State;return zO.$==1?true:false;},Make:function(zP){return{State:zP};},Map:function(zQ,zR){var zS,zT,zU,zV;zS=zR.State;if(zS.$==0){zU=zS.$0;zT=bg.CreateForever(zQ(zU));}else{zV=bg.Create();bg.When(zR,function(zW){var zX;zX=zQ(zW);return bg.MarkDone(zV,zR,zX);},function(){return bg.MarkObsolete(zV);});zT=zV;}return zT;},Map2:function(zZ,z0,z1){var z2,z3,z4,z5,z6,z7,z8,z9,z$,Aa,Ab,Ac,Ae;z2=[z0.State,z1.State];if(z2[0].$==0){if(z2[1].$==0){z5=z2[0].$0;z6=z2[1].$0;z4=bg.CreateForever((zZ(z5))(z6));}else{z7=z2[0].$0;z4=bg.Map(zZ(z7),z1);}z3=z4;}else{if(z2[1].$==0){z9=z2[1].$0;z8=bg.Map(function(z_){return(zZ(z_))(z9);},z0);}else{z$=bg.Create();Aa=[{$:0}];Ab=[{$:0}];Ac=function(){Aa[0]={$:0};Ab[0]={$:0};return bg.MarkObsolete(z$);};Ae=function(){var Ag,Ah,Ai,Aj,Ak;Ag=[Aa[0],Ab[0]];if(Ag[0].$==1){if(Ag[1].$==1){Aj=Ag[0].$0;Ak=Ag[1].$0;Ai=(bg.IsForever(z0)?bg.IsForever(z1):false)?bg.MarkForever(z$,(zZ(Aj))(Ak)):bg.MarkReady(z$,(zZ(Aj))(Ak));}else{Ai=null;}Ah=Ai;}else{Ah=null;}return Ah;};bg.When(z0,function(Al){Aa[0]={$:1,$0:Al};return Ae(null);},Ac);bg.When(z1,function(Am){Ab[0]={$:1,$0:Am};return Ae(null);},Ac);z8=z$;}z3=z8;}return z3;},Map3:function(An,Ao,Ap,Aq){var Ar,As,At,Au,Av,Aw,Ax,Ay,Az,AB,AC,AD,AF,AI,AJ,AK,AL,AN,AQ,AR,AU,AV,AW,AX,AY,A0;Ar=[Ao.State,Ap.State,Aq.State];if(Ar[0].$==0){if(Ar[1].$==0){if(Ar[2].$==0){Av=Ar[0].$0;Aw=Ar[1].$0;Ax=Ar[2].$0;Au=bg.CreateForever(((An(Av))(Aw))(Ax));}else{Ay=Ar[0].$0;Az=Ar[1].$0;Au=bg.Map(function(AA){return((An(Ay))(Az))(AA);},Aq);}At=Au;}else{if(Ar[2].$==0){AC=Ar[0].$0;AD=Ar[2].$0;AB=bg.Map(function(AE){return((An(AC))(AE))(AD);},Ap);}else{AF=Ar[0].$0;AB=bg.Map2(function(AG){return function(AH){return((An(AF))(AG))(AH);};},Ap,Aq);}At=AB;}As=At;}else{if(Ar[1].$==0){if(Ar[2].$==0){AK=Ar[1].$0;AL=Ar[2].$0;AJ=bg.Map(function(AM){return((An(AM))(AK))(AL);},Ao);}else{AN=Ar[1].$0;AJ=bg.Map2(function(AO){return function(AP){return((An(AO))(AN))(AP);};},Ao,Aq);}AI=AJ;}else{if(Ar[2].$==0){AR=Ar[2].$0;AQ=bg.Map2(function(AS){return function(AT){return((An(AS))(AT))(AR);};},Ao,Ap);}else{AU=bg.Create();AV=[{$:0}];AW=[{$:0}];AX=[{$:0}];AY=function(){AV[0]={$:0};AW[0]={$:0};AX[0]={$:0};return bg.MarkObsolete(AU);};A0=function(){var A2,A3,A4,A5,A6,A7,A8;A2=[AV[0],AW[0],AX[0]];if(A2[0].$==1){if(A2[1].$==1){if(A2[2].$==1){A6=A2[0].$0;A7=A2[1].$0;A8=A2[2].$0;A5=((bg.IsForever(Ao)?bg.IsForever(Ap):false)?bg.IsForever(Aq):false)?bg.MarkForever(AU,((An(A6))(A7))(A8)):bg.MarkReady(AU,((An(A6))(A7))(A8));}else{A5=null;}A4=A5;}else{A4=null;}A3=A4;}else{A3=null;}return A3;};bg.When(Ao,function(A9){AV[0]={$:1,$0:A9};return A0(null);},AY);bg.When(Ap,function(A_){AW[0]={$:1,$0:A_};return A0(null);},AY);bg.When(Aq,function(A$){AX[0]={$:1,$0:A$};return A0(null);},AY);AQ=AU;}AI=AQ;}As=AI;}return As;},MapAsync:function(Ba,Bb){var Bc;Bc=bg.Create();bg.When(Bb,function(Bd){return bh.StartTo(Ba(Bd),function(Be){return bg.MarkDone(Bc,Bb,Be);});},function(){return bg.MarkObsolete(Bc);});return Bc;},MapCached:function(Bg,Bh,Bi){var Bj;Bj=function(Bk){var Bl,Bm,Bn,Bo,Bp,Bq,Br;Bl=Bg[0];if(Bl.$==1){Bl.$0[1];Bn=Bl.$0[0];if(l.Equals(Bk,Bn)){Bl.$0[0];Bp=Bl.$0[1];Bo=Bp;}else{Bq=Bh(Bk);Bg[0]={$:1,$0:[Bk,Bq]};Bo=Bq;}Bm=Bo;}else{Br=Bh(Bk);Bg[0]={$:1,$0:[Bk,Br]};Bm=Br;}return Bm;};return bg.Map(Bj,Bi);},MarkDone:function(Bs,Bt,Bu){return bg.IsForever(Bt)?bg.MarkForever(Bs,Bu):bg.MarkReady(Bs,Bu);},MarkForever:function(Bv,Bw){var Bx,By,Bz;Bx=Bv.State;if(Bx.$==3){Bz=Bx.$0;Bv.State={$:0,$0:Bw};By=d.iter(function(BA){return BA(Bw);},Bz);}else{By=null;}return By;},MarkObsolete:function(BB){var BC,BD,BE,BG;BC=BB.State;if(BC.$==1){BD=null;}else{if(BC.$==2){BE=BC.$1;BB.State={$:1};BD=d.iter(function(BF){return BF(null);},BE);}else{if(BC.$==3){BG=BC.$1;BB.State={$:1};BD=d.iter(function(BH){return BH(null);},BG);}else{BD=null;}}}return BD;},MarkReady:function(BI,BJ){var BK,BL,BM,BN;BK=BI.State;if(BK.$==3){BM=BK.$1;BN=BK.$0;BI.State={$:2,$0:BJ,$1:BM};BL=d.iter(function(BO){return BO(BJ);},BN);}else{BL=null;}return BL;},Sequence:function(BP){var BQ,BR,BS,BT,BU,BV,BW,BY,B1;if(d.isEmpty(BP)){BQ=bg.CreateForever(d.empty());}else{BR=bg.Create();BS=c.ofSeq(BP);BT=c.length(BS);BU=[0];BV=[[]];BW=function(){BU[0]=0;BV[0]=[];return bg.MarkObsolete(BR);};BY=function(){return BU[0]===BT?d.forall(function(B0){return bg.IsForever(B0);},BS)?bg.MarkForever(BR,BV[0]):bg.MarkReady(BR,BV[0]):null;};B1=function(B2){return function(B3){return bg.When(B3,function(B4){BV[0][B2]=B4;bi.incr(BU);return BY(null);},BW);};};c.iteri(B1,BS);BQ=BR;}return BQ;},SnapshotOn:function(B5,B6){var B7,B8,B9,B_,B$,Ca,Cb,Cd;B7=[B5.State,B6.State];if(B7[1].$==0){B9=B7[1].$0;B8=bg.CreateForever(B9);}else{B_=bg.Create();B$=[{$:0}];Ca=[false];Cb=function(){B$[0]={$:0};return bg.MarkObsolete(B_);};Cd=function(){var Cf,Cg,Ch,Ci,Cj,Ck,Cl,Cm,Cn;if(Ca[0]){Cg=B$[0];if(Cg.$==1){Cg.$0;if(bg.IsForever(B6)){Cj=Cg.$0;Ci=bg.MarkForever(B_,Cj);}else{if(Cg.$==1){Cl=Cg.$0;Ck=bg.MarkReady(B_,Cl);}else{Ck=null;}Ci=Ck;}Ch=Ci;}else{if(Cg.$==1){Cn=Cg.$0;Cm=bg.MarkReady(B_,Cn);}else{Cm=null;}Ch=Cm;}Cf=Ch;}else{Cf=null;}return Cf;};bg.When(B5,function(){Ca[0]=true;return Cd(null);},Cb);bg.When(B6,function(Cp){B$[0]={$:1,$0:Cp};return Cd(null);},function(){});B8=B_;}return B8;},When:function(Cr,Cs,Ct){var Cu,Cv,Cw,Cx,Cy,Cz,CA;Cu=Cr.State;if(Cu.$==1){Cv=Ct(null);}else{if(Cu.$==2){Cw=Cu.$0;Cx=Cu.$1;Cx.push(Ct);Cv=Cs(Cw);}else{if(Cu.$==3){Cy=Cu.$1;Cz=Cu.$0;Cz.push(Cs);Cv=Cy.push(Ct);}else{CA=Cu.$0;Cv=Cs(CA);}}}return Cv;}},Storage1:{ArrayStorage:$.Class({Add:function(CB,CC){var CD;CD=CC.push(CB);return CC;},Init:function(){return this.init;},RemoveIf:function(CE,CF){return c.filter(CE,CF);},Set:function(CG){return d.toArray(CG);},SetAt:function(CH,CI,CJ){c.set(CJ,CH,CI);return CJ;}},{New:function(CK){var CL;CL=$.New(this,{});CL.init=CK;return CL;}}),InMemory:function(CM){return bj.New(CM);},LocalStorage:function(CN,CO){return bk.New(CN,CO);},LocalStorageBackend:$.Class({Add:function(CP,CQ){var CR;CR=CQ.push(CP);return this.set(CQ);},Init:function(){var CS,CT,CU,CV,CW,CX;CS=this.storage.getItem(this.id);if(CS===null){CT=[];}else{try{CV=bl.parse(CS);CW=this.serializer.Decode;CU=c.map(CW,CV);}catch(CX){CU=[];}CT=CU;}return CT;},RemoveIf:function(CY,CZ){var C0;C0=c.filter(CY,CZ);return this.set(C0);},Set:function(C1){var C2;C2=d.toArray(C1);return this.set(C2);},SetAt:function(C3,C4,C5){c.set(C5,C3,C4);return this.set(C5);},clear:function(){return this.storage.removeItem(this.id);},set:function(C6){var C7,C8;C7=this.serializer.Encode;C8=c.map(C7,C6);this.storage.setItem(this.id,bl.stringify(C8));return C6;}},{New:function(C9,C_){var C$;C$=$.New(this,{});C$.id=C9;C$.serializer=C_;C$.storage=bf.localStorage;return C$;}})},String:{isBlank:function(Da){return _9.forall(function(Db){return bm.IsWhiteSpace(Db);},Da);}},Submitter:$.Class({Trigger:function(){return U.Set(this["var"],null);},get_Input:function(){return this.input;},get_View:function(){return this.view;}},{Create:function(Dc,Dd){return bn.New(Dc,Dd);},CreateOption:function(De){var Df;Df=function(Dg){return{$:1,$0:Dg};};return bn.New(t.Map(Df,De),{$:0});},New:function(Dh,Di){var Dj,Dk,Dl;Dj=$.New(this,{});Dj.input=Dh;Dj["var"]=W.Create(null);Dk=Dj["var"].get_View();Dl=Dj.input;Dj.view=t.SnapshotOn(Di,Dk,Dl);return Dj;},View:function(Dm){return Dm.get_View();}}),Submitter1:$.Class({},{Input:function(Dn){return Dn.get_Input();},Trigger:function(Do){return Do.Trigger();}}),Trans:$.Class({},{AnimateChange:function(Dp,Dq,Dr){return(Dp.TChange.call(null,Dq))(Dr);},AnimateEnter:function(Ds,Dt){return Ds.TEnter.call(null,Dt);},AnimateExit:function(Du,Dv){return Du.TExit.call(null,Dv);},CanAnimateChange:function(Dw){return(Dw.TFlags&1)!==0;},CanAnimateEnter:function(Dx){return(Dx.TFlags&2)!==0;},CanAnimateExit:function(Dy){return(Dy.TFlags&4)!==0;},Trivial:function(){return{TChange:function(){return function(DA){return n.Const(DA);};},TEnter:function(DB){return n.Const(DB);},TExit:function(DC){return n.Const(DC);},TFlags:0};}}),Trans1:$.Class({},{Change:function(DD,DE){var DF;DF=DE.TFlags|1;return{TChange:DD,TEnter:DE.TEnter,TExit:DE.TExit,TFlags:DF};},Create:function(DG){return{TChange:DG,TEnter:function(DH){return n.Const(DH);},TExit:function(DI){return n.Const(DI);},TFlags:1};},Enter:function(DJ,DK){var DL;DL=DK.TFlags|2;return{TChange:DK.TChange,TEnter:DJ,TExit:DK.TExit,TFlags:DL};},Exit:function(DM,DN){var DO;DO=DN.TFlags|4;return{TChange:DN.TChange,TEnter:DN.TEnter,TExit:DM,TFlags:DO};}}),Trie1:{AllSome:function(DP){var DQ,DR,DS,DT,DU,DV;DQ=bo.Get(DP);DR=bq.New2();DS=true;while(DS?DQ.MoveNext():false){DT=DQ.get_Current();if(DT.$==1){DV=DT.$0;DU=DR.Add(DV);}else{DU=DS=false;}}return DS?{$:1,$0:DR.ToArray()}:{$:0};},Empty:function(){return{$:1};},IsLeaf:function(DW){return DW.$==2?true:false;},Leaf:function(DX){return{$:2,$0:DX};},Look:function(DY,DZ){var D0,D1,D2,D3,D4,D5,D6,D7,D8,D9;D0=[DZ,DY];if(D0[0].$==2){D2=D0[0].$0;D1={$:0,$0:D2,$1:DY};}else{if(D0[0].$==0){if(D0[1].$==1){D4=D0[1].$0;D5=D0[1].$1;D6=D0[0].$0;D7=br.TryFind(D4,D6);if(D7.$==0){D8={$:1};}else{D9=D7.$0;D8=bd.Look(D5,D9);}D3=D8;}else{D3={$:1};}D1=D3;}else{D1={$:1};}}return D1;},Lookup:function(D_,D$){return bd.Look(d.toList(D$),D_);},Map:function(Ea,Eb){return bd.MapLoop($.New(N,{$:0}),Ea,Eb);},MapLoop:function(Ec,Ed,Ee){var Ef,Eg,Eh,Ei,El;if(Ee.$==1){Ef={$:1};}else{if(Ee.$==2){Eg=Ee.$0;Ef={$:2,$0:(Ed(Ec))(Eg)};}else{Eh=Ee.$0;Ei=function(Ej){return function(Ek){return bd.MapLoop(A.append(Ec,A.ofArray([Ej])),Ed,Ek);};};El=br.Map(Ei,Eh);Ef=bd.TrieBranch(El);}}return Ef;},Mapi:function(Em,En){var Eo,Ep;Eo=[0];Ep=function(){var Er;Er=Eo[0];Eo[0]=Er+1;return Er;};return bd.Map(function(Es){return(Em(Ep(null)))(Es);},En);},Merge:function(Et){var Eu,Ev,Ew,Ey,Ez,ED,EF,EH,EI;Eu=d.toArray(Et);Ev=c.length(Eu);if(Ev===0){Ew={$:1,$0:{$:1}};}else{if(Ev===1){Ew={$:1,$0:c.get(Eu,0)};}else{if(d.exists(function(Ex){return bd.IsLeaf(Ex);},Eu)){Ey={$:0};}else{Ez=function(EA){var EB,EC;if(EA.$==0){EC=EA.$0;EB={$:1,$0:EC};}else{EB={$:0};}return EB;};ED=function(EE){return bd.Merge(EE);};EF=function(EG){return bd.TrieBranch(EG);};EH=d.choose(Ez,Eu);EI=bd.MergeMaps(ED,EH);Ey=s.map(EF,EI);}Ew=Ey;}}return Ew;},MergeMaps:function(EJ,EK){var EL,EN,ES,ET,EU,EV,E2,E3,E4;EL=d.collect(function(EM){return br.ToSeq(EM);},EK);EN=function(EO){return function(EP){var EQ,ER;EQ=EP[0];ER=EP[1];return bd.MultiAdd(EQ,ER,EO);};};ES=bs.New1([]);ET=d.fold(EN,ES,EL);EU=br.ToSeq(ET);EV=function(EW){var EX,EY,EZ,E1;EX=EW[0];EY=EW[1];EZ=function(E0){return[EX,E0];};E1=EJ(EY);return s.map(EZ,E1);};E2=d.map(EV,EU);E3=bd.AllSome(E2);E4=function(E5){return br.OfArray(d.toArray(E5));};return s.map(E4,E3);},MultiAdd:function(E6,E7,E8){return E8.Add(E6,$.New(N,{$:1,$0:E7,$1:bd.MultiFind(E6,E8)}));},MultiFind:function(E9,E_){return M.DefaultArg(br.TryFind(E9,E_),$.New(N,{$:0}));},Prefix:function(E$,Fa){return bd.TrieBranch(bs.New1(A.ofArray([[E$,Fa]])));},ToArray:function(Fb){var Fc,Fd;Fc=[];Fd=bd.Map(function(){return function(Ff){return Fc.push(Ff);};},Fb);return Fc.slice(0);},TrieBranch:function(Fg){return Fg.get_IsEmpty()?{$:1}:{$:0,$0:Fg};}},Var:$.Class({Get:function(){return U.Get(this);},Set:function(Fh){return U.Set(this,Fh);},Update:function(Fi){return U.Update(this,Fi);},UpdateMaybe:function(Fj){var Fk,Fl,Fm;Fk=Fj(U.Get(this));if(Fk.$==1){Fm=Fk.$0;Fl=U.Set(this,Fm);}else{Fl=null;}return Fl;},get_Id:function(){return"uinref"+$$.String(U.GetId(this));},get_View:function(){var Fo=this;return{$:0,$0:function(){return U.Observe(Fo);}};},get_View1:function(){return this.get_View();}},{Create:function(Fp){return $.New(W,{Const:false,Current:Fp,Snap:bg.CreateWithValue(Fp),Id:h.Int()});}}),Var1:$.Class({},{Get:function(Fq){return Fq.Current;},GetId:function(Fr){return Fr.Id;},Lens:function(Fs,Ft,Fu){return bt.New(Fs,Ft,Fu);},Observe:function(Fv){return Fv.Snap;},Set:function(Fw,Fx){var Fy;if(Fw.Const){Fy=null;}else{bg.MarkObsolete(Fw.Snap);Fw.Current=Fx;Fy=void(Fw.Snap=bg.CreateWithValue(Fx));}return Fy;},SetFinal:function(Fz,FA){var FB;if(Fz.Const){FB=null;}else{Fz.Const=true;Fz.Current=FA;FB=void(Fz.Snap=bg.CreateForever(FA));}return FB;},Update:function(FC,FD){var FE;FE=FD(U.Get(FC));return U.Set(FC,FE);}}),View:$.Class({},{ConvertSeqNode:function(FF,FG){var FH,FI;FH=W.Create(FG);FI=FH.get_View();return{NValue:FF(FI),NVar:FH,NView:FI};},CreateLazy:function(FJ){var FK,FL;FK=[{$:0}];FL=function(){var FN,FO,FP,FQ,FR,FS,FT;FN=FK[0];if(FN.$==1){FP=FN.$0;if(!bg.IsObsolete(FP)){FR=FN.$0;FQ=FR;}else{FS=FJ(null);FK[0]={$:1,$0:FS};FQ=FS;}FO=FQ;}else{FT=FJ(null);FK[0]={$:1,$0:FT};FO=FT;}return FO;};return{$:0,$0:FL};},CreateLazy2:function(FU,FV,FW){var FX,FY;FX=FV.$0;FY=FW.$0;return t.CreateLazy(function(){var F0,F1;F0=FX(null);F1=FY(null);return(FU(F0))(F1);});},Map:function(F2,F3){var F4;F4=F3.$0;return t.CreateLazy(function(){var F6;F6=F4(null);return bg.Map(F2,F6);});},Map2:function(F7,F8,F9){var F_;F_=function(F$){return function(Ga){return bg.Map2(F7,F$,Ga);};};return t.CreateLazy2(F_,F8,F9);},MapAsync:function(Gb,Gc){var Gd;Gd=Gc.$0;return t.CreateLazy(function(){var Gf;Gf=Gd(null);return bg.MapAsync(Gb,Gf);});},MapAsync2:function(Gg,Gh,Gi){var Gj,Gl;Gj=function(Gk){return Gk;};Gl=t.Map2(Gg,Gh,Gi);return t.MapAsync(Gj,Gl);},MapCached:function(Gm,Gn){var Go,Gp;Go=Gn.$0;Gp=[{$:0}];return t.CreateLazy(function(){var Gr;Gr=Go(null);return bg.MapCached(Gp,Gm,Gr);});},MapSeqCached:function(Gs,Gt){var Gu;Gu=function(Gv){return Gv;};return t.MapSeqCachedBy(Gu,Gs,Gt);},MapSeqCachedBy:function(Gw,Gx,Gy){var Gz,GA;Gz=[be.New12()];GA=function(GB){var GC,GD,GE,GI,GJ;GC=Gz[0];GD=be.New12();GE=function(GF){var GG,GH;GG=Gw(GF);GH=GC.ContainsKey(GG)?GC.get_Item(GG):Gx(GF);GD.set_Item(GG,GH);return GH;};GI=d.toArray(GB);GJ=c.map(GE,GI);Gz[0]=GD;return GJ;};return t.Map(GA,Gy);},MapSeqCachedView:function(GK,GL){var GM,GO;GM=function(GN){return GN;};GO=function(){return function(GQ){return GK(GQ);};};return t.MapSeqCachedViewBy(GM,GO,GL);},MapSeqCachedViewBy:function(GR,GS,GT){var GU,GV;GU=[be.New12()];GV=function(GW){var GX,GY,GZ,G0,G9;GX=GU[0];GY=be.New12();GZ=d.toArray(GW);G0=function(G1){var G2,G3,G4,G5,G6,G7;G2=GR(G1);if(GX.ContainsKey(G2)){G5=GX.get_Item(G2);G6=G5.NVar;U.Set(G6,G1);G4=G5;}else{G7=function(G8){return(GS(G2))(G8);};G4=t.ConvertSeqNode(G7,G1);}G3=G4;GY.set_Item(G2,G3);return G3.NValue;};G9=c.map(G0,GZ);GU[0]=GY;return G9;};return t.Map(GV,GT);},SnapshotOn:function(G_,G$,Ha){var Hb,Hc,Hd,He,Hf,Hi;Hb=G$.$0;Hc=Ha.$0;Hd=bg.CreateWithValue(G_);He=[false];Hf=function(){var Hh;if(!He[0]){He[0]=true;Hh=bg.MarkObsolete(Hd);}else{Hh=null;}return Hh;};Hi=function(){var Hk,Hl,Hm,Hn;Hk=Hb(null);Hl=Hc(null);if(He[0]){Hm=bg.SnapshotOn(Hk,Hl);}else{Hn=bg.SnapshotOn(Hk,Hl);bg.When(Hn,function(){return null;},function(){return Hf(null);});Hm=Hd;}return Hm;};return t.CreateLazy(Hi);},UpdateWhile:function(Hq,Hr,Hs){var Ht,Hu;Ht=[Hq];Hu=function(Hv){return function(Hw){Hv?void(Ht[0]=Hw):null;return Ht[0];};};return t.Map2(Hu,Hr,Hs);},get_Do:function(){return{$:0};}}),View1:$.Class({},{Apply:function(Hx,Hy){var Hz;Hz=function(HA){return function(HB){return HA(HB);};};return t.Map2(Hz,Hx,Hy);},Bind:function(HC,HD){return D.Join(t.Map(HC,HD));},Const:function(HE){var HF;HF=bg.CreateForever(HE);return{$:0,$0:function(){return HF;}};},Join:function(HH){var HI;HI=HH.$0;return t.CreateLazy(function(){var HK,HN;HK=function(HL){var HM;HM=HL.$0;return HM(null);};HN=HI(null);return bg.Bind(HK,HN);});},Sequence:function(HO){return t.CreateLazy(function(){var HQ,HT;HQ=function(HR){var HS;HS=HR.$0;return HS(null);};HT=d.map(HQ,HO);return bg.Sequence(HT);});},Sink:function(HU,HV){var HW,HX;HW=HV.$0;HX=function(){var HZ;HZ=HW(null);return bg.When(HZ,HU,function(){return bh.Schedule(HX);});};return bh.Schedule(HX);},TryFinally:function(H1,H2){var H3;H3=H2.$0;return t.CreateLazy(function(){var H5;try{H5=H3(null);}finally{H1(null);}return H5;});},TryWith:function(H6,H7){var H8;H8=H7.$0;return t.CreateLazy(function(){var H_,H$,Ia,Ib;try{H_=H8(null);}catch(H$){Ia=H6(H$);Ib=Ia.$0;H_=Ib(null);}return H_;});}})}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Concurrency);b=$.Safe($$.Array);c=$.Safe($$.WebSharper.Arrays);d=$.Safe($$.WebSharper.Seq);e=$.Safe($$.WebSharper.UI);f=$.Safe(e.Next);g=$.Safe(f.Abbrev);h=$.Safe(g.Fresh);i=$.Safe($$.WebSharper.Collections);j=$.Safe(i.HashSetProxy);k=$.Safe(g.HashSet);l=$.Safe($$.WebSharper.Unchecked);m=$.Safe(g.Slot1);n=$.Safe(f.An);o=$.Safe(f.AppendList1);p=$.Safe(f.Anims);q=$.Safe($$.requestAnimationFrame);r=$.Safe(f.Trans);s=$.Safe($$.WebSharper.Option);t=$.Safe(f.View);u=$.Safe($$.WebSharper.Lazy);v=$.Safe(f.Array);w=$.Safe(f.Attrs);x=$.Safe(f.DomUtility);y=$.Safe(f.AttrModule);z=$.Safe(f.AttrProxy);A=$.Safe($$.WebSharper.List);B=$.Safe(f.AnimatedAttrNode);C=$.Safe(f.DynamicAttrNode);D=$.Safe(f.View1);E=$.Safe($$.document);F=$.Safe(f.Doc);G=$.Safe(f.Elt);H=$.Safe($$.Seq);I=$.Safe(f.Docs);J=$.Safe(f.String);K=$.Safe(f.CheckedInput);L=$.Safe(g.Mailbox);M=$.Safe($$.WebSharper.Operators);N=$.Safe(A.T);O=$.Safe($$.jQuery);P=$.Safe(I.NodeSet);Q=$.Safe(f.DocElemNode);R=$.Safe(I.DomNodes);S=$.Safe(f.Easing);T=$.Safe(f.Easings);U=$.Safe(f.Var1);V=$.Safe($$.RegExp);W=$.Safe(f.Var);X=$.Safe(f.FlowBuilder);Y=$.Safe(f.Flow1);Z=$.Safe(f.Input);_0=$.Safe(f.DoubleInterpolation);_1=$.Safe(f.Key);_2=$.Safe(f.ListModels);_3=$.Safe(f.RefImpl1);_4=$.Safe(f.Storage1);_5=$.Safe(f.ListModel);_6=$.Safe(f.Model1);_7=$.Safe(f.Model);_8=$.Safe($$.encodeURIComponent);_9=$.Safe($$.WebSharper.Strings);_=$.Safe(f.Route);ba=$.Safe($$.decodeURIComponent);bb=$.Safe(f.Routing);bc=$.Safe(f.Router1);bd=$.Safe(f.Trie1);be=$.Safe(i.Dictionary);bf=$.Safe($$.window);bg=$.Safe(f.Snap1);bh=$.Safe(g.Async);bi=$.Safe($$.WebSharper.Ref);bj=$.Safe(_4.ArrayStorage);bk=$.Safe(_4.LocalStorageBackend);bl=$.Safe($$.JSON);bm=$.Safe($$.WebSharper.Char);bn=$.Safe(f.Submitter);bo=$.Safe($$.WebSharper.Enumerator);bp=$.Safe(i.ResizeArray);bq=$.Safe(bp.ResizeArrayProxy);br=$.Safe(i.MapModule);bs=$.Safe(i.FSharpMap);return bt=$.Safe(f.RefImpl);});$.OnLoad(function(){$.Inherit(G,F);Z.MousePosSt1();Z.MouseBtnSt1();Z.KeyListenerState();Z.ActivateKeyListener();Z.ActivateButtonListener();T.CubicInOut();x.Doc();w.EmptyAttr();h.counter();return;});}());
